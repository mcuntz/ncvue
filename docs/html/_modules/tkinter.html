

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tkinter &mdash; ncvue 3.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ncvue
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    <p class="link caption"><span class="link caption-text">Documentation</span></p>
    
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">ncvue - A GUI to view netCDF files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#about-ncvue">About ncvue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#quick-usage-guide">Quick usage guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#general-layout">General layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#map-panel">Map panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#scatter-line-panel">Scatter/Line panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../readme.html#contour-panel">Contour panel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#building-from-source">Building from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../package.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../package.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvcontour.html">ncvue.ncvcontour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvmain.html">ncvue.ncvmain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvmap.html">ncvue.ncvmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvmethods.html">ncvue.ncvmethods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvscatter.html">ncvue.ncvscatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvue.html">ncvue.ncvue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvutils.html">ncvue.ncvutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncvwidgets.html">ncvue.ncvwidgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../version.html">ncvue.version</a></li>
</ul>
</li>
</ul>

            
          
    <br />
    <p class="link caption"><span class="link caption-text">ncvue Links</span></p>
    <a href="https://github.com/mcuntz/ncvue">ncvue @ GitHub</a>
    <a href="https://zenodo.org/record/4459598">ncvue Zenodo DOI</a>
    <a href="https://pypi.org/project/ncvue">ncvue @ PyPI</a>
    <br />
    <br />
    <a href="genindex.html">Index</a>
    <a href="index.html">Sitemap</a>
  
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ncvue</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>tkinter</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for tkinter</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Wrapper functions for Tcl/Tk.</span>

<span class="sd">Tkinter provides classes which allow the display, positioning and</span>
<span class="sd">control of widgets. Toplevel widgets are Tk and Toplevel. Other</span>
<span class="sd">widgets are Frame, Label, Entry, Text, Canvas, Button, Radiobutton,</span>
<span class="sd">Checkbutton, Scale, Listbox, Scrollbar, OptionMenu, Spinbox</span>
<span class="sd">LabelFrame and PanedWindow.</span>

<span class="sd">Properties of the widgets are specified with keyword arguments.</span>
<span class="sd">Keyword arguments have the same name as the corresponding resource</span>
<span class="sd">under Tk.</span>

<span class="sd">Widgets are positioned with one of the geometry managers Place, Pack</span>
<span class="sd">or Grid. These managers can be called with methods place, pack, grid</span>
<span class="sd">available in every Widget.</span>

<span class="sd">Actions are bound to events by resources (e.g. keyword argument</span>
<span class="sd">command) or with the method bind.</span>

<span class="sd">Example (Hello, World):</span>
<span class="sd">import tkinter</span>
<span class="sd">from tkinter.constants import *</span>
<span class="sd">tk = tkinter.Tk()</span>
<span class="sd">frame = tkinter.Frame(tk, relief=RIDGE, borderwidth=2)</span>
<span class="sd">frame.pack(fill=BOTH,expand=1)</span>
<span class="sd">label = tkinter.Label(frame, text=&quot;Hello, World&quot;)</span>
<span class="sd">label.pack(fill=X, expand=1)</span>
<span class="sd">button = tkinter.Button(frame,text=&quot;Exit&quot;,command=tk.destroy)</span>
<span class="sd">button.pack(side=BOTTOM)</span>
<span class="sd">tk.mainloop()</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">enum</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">_tkinter</span> <span class="c1"># If this fails your Python may not be configured for Tk</span>
<span class="n">TclError</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">TclError</span>
<span class="kn">from</span> <span class="nn">tkinter.constants</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">re</span>


<span class="n">wantobjects</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">TkVersion</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">_tkinter</span><span class="o">.</span><span class="n">TK_VERSION</span><span class="p">)</span>
<span class="n">TclVersion</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">_tkinter</span><span class="o">.</span><span class="n">TCL_VERSION</span><span class="p">)</span>

<span class="n">READABLE</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">READABLE</span>
<span class="n">WRITABLE</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">WRITABLE</span>
<span class="n">EXCEPTION</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">EXCEPTION</span>


<span class="n">_magic_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([</span><span class="se">\\</span><span class="si">{}</span><span class="s1">])&#39;</span><span class="p">)</span>
<span class="n">_space_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([\s])&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">ASCII</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_join</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_stringify</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_stringify</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_stringify</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">_magic_re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;{</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;{</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">_join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span>
        <span class="k">elif</span> <span class="n">_magic_re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="c1"># add &#39;\&#39; before special characters and spaces</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_magic_re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">\1&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\n&#39;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">_space_re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">\1&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">value</span>
        <span class="k">elif</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">or</span> <span class="n">_space_re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;{</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">value</span>


<span class="k">def</span> <span class="nf">_flatten</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">()</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="p">(</span><span class="n">item</span><span class="p">,)</span>
    <span class="k">return</span> <span class="n">res</span>


<span class="k">try</span><span class="p">:</span> <span class="n">_flatten</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">_flatten</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="k">pass</span>


<span class="k">def</span> <span class="nf">_cnfmerge</span><span class="p">(</span><span class="n">cnfs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnfs</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">cnfs</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnfs</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">str</span><span class="p">)):</span>
        <span class="k">return</span> <span class="n">cnfs</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cnf</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">cnfs</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">cnf</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;_cnfmerge: fallback due to:&quot;</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">cnf</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">cnf</span>


<span class="k">try</span><span class="p">:</span> <span class="n">_cnfmerge</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">_cnfmerge</span>
<span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="k">pass</span>


<span class="k">def</span> <span class="nf">_splitdict</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">cut_minus</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">conv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a properly formatted dict built from Tcl list pairs.</span>

<span class="sd">    If cut_minus is True, the supposed &#39;-&#39; prefix will be removed from</span>
<span class="sd">    keys. If conv is specified, it is used to convert values.</span>

<span class="sd">    Tcl list is expected to contain an even number of elements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Tcl list representing a dict is expected &#39;</span>
                           <span class="s1">&#39;to contain an even number of elements&#39;</span><span class="p">)</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="nb">dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">it</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cut_minus</span> <span class="ow">and</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">conv</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="nb">dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">return</span> <span class="nb">dict</span>


<span class="k">class</span> <span class="nc">EventType</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">KeyPress</span> <span class="o">=</span> <span class="s1">&#39;2&#39;</span>
    <span class="n">Key</span> <span class="o">=</span> <span class="n">KeyPress</span>
    <span class="n">KeyRelease</span> <span class="o">=</span> <span class="s1">&#39;3&#39;</span>
    <span class="n">ButtonPress</span> <span class="o">=</span> <span class="s1">&#39;4&#39;</span>
    <span class="n">Button</span> <span class="o">=</span> <span class="n">ButtonPress</span>
    <span class="n">ButtonRelease</span> <span class="o">=</span> <span class="s1">&#39;5&#39;</span>
    <span class="n">Motion</span> <span class="o">=</span> <span class="s1">&#39;6&#39;</span>
    <span class="n">Enter</span> <span class="o">=</span> <span class="s1">&#39;7&#39;</span>
    <span class="n">Leave</span> <span class="o">=</span> <span class="s1">&#39;8&#39;</span>
    <span class="n">FocusIn</span> <span class="o">=</span> <span class="s1">&#39;9&#39;</span>
    <span class="n">FocusOut</span> <span class="o">=</span> <span class="s1">&#39;10&#39;</span>
    <span class="n">Keymap</span> <span class="o">=</span> <span class="s1">&#39;11&#39;</span>           <span class="c1"># undocumented</span>
    <span class="n">Expose</span> <span class="o">=</span> <span class="s1">&#39;12&#39;</span>
    <span class="n">GraphicsExpose</span> <span class="o">=</span> <span class="s1">&#39;13&#39;</span>   <span class="c1"># undocumented</span>
    <span class="n">NoExpose</span> <span class="o">=</span> <span class="s1">&#39;14&#39;</span>         <span class="c1"># undocumented</span>
    <span class="n">Visibility</span> <span class="o">=</span> <span class="s1">&#39;15&#39;</span>
    <span class="n">Create</span> <span class="o">=</span> <span class="s1">&#39;16&#39;</span>
    <span class="n">Destroy</span> <span class="o">=</span> <span class="s1">&#39;17&#39;</span>
    <span class="n">Unmap</span> <span class="o">=</span> <span class="s1">&#39;18&#39;</span>
    <span class="n">Map</span> <span class="o">=</span> <span class="s1">&#39;19&#39;</span>
    <span class="n">MapRequest</span> <span class="o">=</span> <span class="s1">&#39;20&#39;</span>
    <span class="n">Reparent</span> <span class="o">=</span> <span class="s1">&#39;21&#39;</span>
    <span class="n">Configure</span> <span class="o">=</span> <span class="s1">&#39;22&#39;</span>
    <span class="n">ConfigureRequest</span> <span class="o">=</span> <span class="s1">&#39;23&#39;</span>
    <span class="n">Gravity</span> <span class="o">=</span> <span class="s1">&#39;24&#39;</span>
    <span class="n">ResizeRequest</span> <span class="o">=</span> <span class="s1">&#39;25&#39;</span>
    <span class="n">Circulate</span> <span class="o">=</span> <span class="s1">&#39;26&#39;</span>
    <span class="n">CirculateRequest</span> <span class="o">=</span> <span class="s1">&#39;27&#39;</span>
    <span class="n">Property</span> <span class="o">=</span> <span class="s1">&#39;28&#39;</span>
    <span class="n">SelectionClear</span> <span class="o">=</span> <span class="s1">&#39;29&#39;</span>   <span class="c1"># undocumented</span>
    <span class="n">SelectionRequest</span> <span class="o">=</span> <span class="s1">&#39;30&#39;</span> <span class="c1"># undocumented</span>
    <span class="n">Selection</span> <span class="o">=</span> <span class="s1">&#39;31&#39;</span>        <span class="c1"># undocumented</span>
    <span class="n">Colormap</span> <span class="o">=</span> <span class="s1">&#39;32&#39;</span>
    <span class="n">ClientMessage</span> <span class="o">=</span> <span class="s1">&#39;33&#39;</span>    <span class="c1"># undocumented</span>
    <span class="n">Mapping</span> <span class="o">=</span> <span class="s1">&#39;34&#39;</span>          <span class="c1"># undocumented</span>
    <span class="n">VirtualEvent</span> <span class="o">=</span> <span class="s1">&#39;35&#39;</span>     <span class="c1"># undocumented</span>
    <span class="n">Activate</span> <span class="o">=</span> <span class="s1">&#39;36&#39;</span>
    <span class="n">Deactivate</span> <span class="o">=</span> <span class="s1">&#39;37&#39;</span>
    <span class="n">MouseWheel</span> <span class="o">=</span> <span class="s1">&#39;38&#39;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>


<span class="k">class</span> <span class="nc">Event</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Container for the properties of an event.</span>

<span class="sd">    Instances of this type are generated if one of the following events occurs:</span>

<span class="sd">    KeyPress, KeyRelease - for keyboard events</span>
<span class="sd">    ButtonPress, ButtonRelease, Motion, Enter, Leave, MouseWheel - for mouse events</span>
<span class="sd">    Visibility, Unmap, Map, Expose, FocusIn, FocusOut, Circulate,</span>
<span class="sd">    Colormap, Gravity, Reparent, Property, Destroy, Activate,</span>
<span class="sd">    Deactivate - for window events.</span>

<span class="sd">    If a callback function for one of these events is registered</span>
<span class="sd">    using bind, bind_all, bind_class, or tag_bind, the callback is</span>
<span class="sd">    called with an Event as first argument. It will have the</span>
<span class="sd">    following attributes (in braces are the event types for which</span>
<span class="sd">    the attribute is valid):</span>

<span class="sd">        serial - serial number of event</span>
<span class="sd">    num - mouse button pressed (ButtonPress, ButtonRelease)</span>
<span class="sd">    focus - whether the window has the focus (Enter, Leave)</span>
<span class="sd">    height - height of the exposed window (Configure, Expose)</span>
<span class="sd">    width - width of the exposed window (Configure, Expose)</span>
<span class="sd">    keycode - keycode of the pressed key (KeyPress, KeyRelease)</span>
<span class="sd">    state - state of the event as a number (ButtonPress, ButtonRelease,</span>
<span class="sd">                            Enter, KeyPress, KeyRelease,</span>
<span class="sd">                            Leave, Motion)</span>
<span class="sd">    state - state as a string (Visibility)</span>
<span class="sd">    time - when the event occurred</span>
<span class="sd">    x - x-position of the mouse</span>
<span class="sd">    y - y-position of the mouse</span>
<span class="sd">    x_root - x-position of the mouse on the screen</span>
<span class="sd">             (ButtonPress, ButtonRelease, KeyPress, KeyRelease, Motion)</span>
<span class="sd">    y_root - y-position of the mouse on the screen</span>
<span class="sd">             (ButtonPress, ButtonRelease, KeyPress, KeyRelease, Motion)</span>
<span class="sd">    char - pressed character (KeyPress, KeyRelease)</span>
<span class="sd">    send_event - see X/Windows documentation</span>
<span class="sd">    keysym - keysym of the event as a string (KeyPress, KeyRelease)</span>
<span class="sd">    keysym_num - keysym of the event as a number (KeyPress, KeyRelease)</span>
<span class="sd">    type - type of the event as a number</span>
<span class="sd">    widget - widget in which the event occurred</span>
<span class="sd">    delta - delta of wheel movement (MouseWheel)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">!=</span> <span class="s1">&#39;??&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">char</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;char&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">char</span> <span class="o">!=</span> <span class="s1">&#39;??&#39;</span><span class="p">:</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;char&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">char</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;send_event&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;send_event&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
            <span class="n">mods</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Shift&#39;</span><span class="p">,</span> <span class="s1">&#39;Lock&#39;</span><span class="p">,</span> <span class="s1">&#39;Control&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Mod1&#39;</span><span class="p">,</span> <span class="s1">&#39;Mod2&#39;</span><span class="p">,</span> <span class="s1">&#39;Mod3&#39;</span><span class="p">,</span> <span class="s1">&#39;Mod4&#39;</span><span class="p">,</span> <span class="s1">&#39;Mod5&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Button1&#39;</span><span class="p">,</span> <span class="s1">&#39;Button2&#39;</span><span class="p">,</span> <span class="s1">&#39;Button3&#39;</span><span class="p">,</span> <span class="s1">&#39;Button4&#39;</span><span class="p">,</span> <span class="s1">&#39;Button5&#39;</span><span class="p">)</span>
            <span class="n">s</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mods</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">state</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">):</span>
                    <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="o">&amp;</span> <span class="o">~</span><span class="p">((</span><span class="mi">1</span><span class="o">&lt;&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">mods</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">state</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
                <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">hex</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>
            <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;|&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delta</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;delta&#39;</span><span class="p">]</span>
        <span class="c1"># widget usually is known</span>
        <span class="c1"># serial and time are not very interesting</span>
        <span class="c1"># keysym_num duplicates keysym</span>
        <span class="c1"># x_root and y_root mostly duplicate x and y</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;send_event&#39;</span><span class="p">,</span>
                <span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="s1">&#39;keysym&#39;</span><span class="p">,</span> <span class="s1">&#39;keycode&#39;</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">,</span>
                <span class="s1">&#39;num&#39;</span><span class="p">,</span> <span class="s1">&#39;delta&#39;</span><span class="p">,</span> <span class="s1">&#39;focus&#39;</span><span class="p">,</span>
                <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1"> event</span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
            <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39; </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">attrs</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">)</span>
        <span class="p">)</span>


<span class="n">_support_default_root</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">_default_root</span> <span class="o">=</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">NoDefaultRoot</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Inhibit setting of default root window.</span>

<span class="sd">    Call this function to inhibit that the first instance of</span>
<span class="sd">    Tk is used for windows without an explicit parent window.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_support_default_root</span>
    <span class="n">_support_default_root</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">global</span> <span class="n">_default_root</span>
    <span class="n">_default_root</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">del</span> <span class="n">_default_root</span>


<span class="k">def</span> <span class="nf">_tkerror</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="nf">_exit</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function. Calling it will raise the exception SystemExit.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>


<span class="n">_varnum</span> <span class="o">=</span> <span class="mi">0</span>


<span class="k">class</span> <span class="nc">Variable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Class to define value holders for e.g. buttons.</span>

<span class="sd">    Subclasses StringVar, IntVar, DoubleVar, BooleanVar are specializations</span>
<span class="sd">    that constrain the type of the value returned from get().&quot;&quot;&quot;</span>
    <span class="n">_default</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">_tk</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_tclCommands</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a variable</span>

<span class="sd">        MASTER can be given as master widget.</span>
<span class="sd">        VALUE is an optional value (defaults to &quot;&quot;)</span>
<span class="sd">        NAME is an optional Tcl name (defaults to PY_VARnum).</span>

<span class="sd">        If NAME matches an existing variable and VALUE is omitted</span>
<span class="sd">        then the existing value is retained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check for type of NAME parameter to override weird error message</span>
        <span class="c1"># raised from Modules/_tkinter.c:SetVar like:</span>
        <span class="c1"># TypeError: setvar() takes exactly 3 arguments (2 given)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;name must be a string&quot;</span><span class="p">)</span>
        <span class="k">global</span> <span class="n">_varnum</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">master</span><span class="p">:</span>
            <span class="n">master</span> <span class="o">=</span> <span class="n">_default_root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_root</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">tk</span>
        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="s1">&#39;PY_VAR&#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">_varnum</span><span class="p">)</span>
            <span class="n">_varnum</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;exists&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unset the variable in Tcl.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="s2">&quot;exists&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalunsetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="p">:</span>
                <span class="c1">#print &#39;- Tkinter: deleted command&#39;, name</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the variable in Tcl.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the variable to VALUE.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalsetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="n">initialize</span> <span class="o">=</span> <span class="nb">set</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return value of variable.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalgetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">CallWrapper</span><span class="p">(</span><span class="n">callback</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">)</span><span class="o">.</span><span class="fm">__call__</span>
        <span class="n">cbname</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">callback</span><span class="o">.</span><span class="vm">__func__</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cbname</span> <span class="o">=</span> <span class="n">cbname</span> <span class="o">+</span> <span class="n">callback</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">createcommand</span><span class="p">(</span><span class="n">cbname</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cbname</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cbname</span>

    <span class="k">def</span> <span class="nf">trace_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define a trace callback for the variable.</span>

<span class="sd">        Mode is one of &quot;read&quot;, &quot;write&quot;, &quot;unset&quot;, or a list or tuple of</span>
<span class="sd">        such strings.</span>
<span class="sd">        Callback must be a function which is called when the variable is</span>
<span class="sd">        read, written or unset.</span>

<span class="sd">        Return the name of the callback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cbname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;trace&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="p">(</span><span class="n">cbname</span><span class="p">,))</span>
        <span class="k">return</span> <span class="n">cbname</span>

    <span class="k">def</span> <span class="nf">trace_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cbname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete the trace callback for a variable.</span>

<span class="sd">        Mode is one of &quot;read&quot;, &quot;write&quot;, &quot;unset&quot; or a list or tuple of</span>
<span class="sd">        such strings.  Must be same as were specified in trace_add().</span>
<span class="sd">        cbname is the name of the callback returned from trace_add().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;trace&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cbname</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">ca</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">trace_info</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">ca</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">cbname</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">cbname</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cbname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">trace_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all trace callback information.&quot;&quot;&quot;</span>
        <span class="n">splitlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">splitlist</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">splitlist</span><span class="p">,</span>
            <span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;trace&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)))]</span>

    <span class="k">def</span> <span class="nf">trace_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define a trace callback for the variable.</span>

<span class="sd">        MODE is one of &quot;r&quot;, &quot;w&quot;, &quot;u&quot; for read, write, undefine.</span>
<span class="sd">        CALLBACK must be a function which is called when</span>
<span class="sd">        the variable is read, written or undefined.</span>

<span class="sd">        Return the name of the callback.</span>

<span class="sd">        This deprecated method wraps a deprecated Tcl method that will</span>
<span class="sd">        likely be removed in the future.  Use trace_add() instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: Add deprecation warning</span>
        <span class="n">cbname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;trace&quot;</span><span class="p">,</span> <span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cbname</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cbname</span>

    <span class="n">trace</span> <span class="o">=</span> <span class="n">trace_variable</span>

    <span class="k">def</span> <span class="nf">trace_vdelete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cbname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete the trace callback for a variable.</span>

<span class="sd">        MODE is one of &quot;r&quot;, &quot;w&quot;, &quot;u&quot; for read, write, undefine.</span>
<span class="sd">        CBNAME is the name of the callback returned from trace_variable or trace.</span>

<span class="sd">        This deprecated method wraps a deprecated Tcl method that will</span>
<span class="sd">        likely be removed in the future.  Use trace_remove() instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: Add deprecation warning</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;trace&quot;</span><span class="p">,</span> <span class="s2">&quot;vdelete&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">cbname</span><span class="p">)</span>
        <span class="n">cbname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">cbname</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">ca</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">trace_info</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">ca</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">cbname</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">cbname</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">cbname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">trace_vinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all trace callback information.</span>

<span class="sd">        This deprecated method wraps a deprecated Tcl method that will</span>
<span class="sd">        likely be removed in the future.  Use trace_info() instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: Add deprecation warning</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;trace&quot;</span><span class="p">,</span> <span class="s2">&quot;vinfo&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))]</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Comparison for equality (==).</span>

<span class="sd">        Note: if the Variable&#39;s master matters to behavior</span>
<span class="sd">        also compare self._master == other._master</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span> \
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_name</span>


<span class="k">class</span> <span class="nc">StringVar</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Value holder for strings variables.&quot;&quot;&quot;</span>
    <span class="n">_default</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a string variable.</span>

<span class="sd">        MASTER can be given as master widget.</span>
<span class="sd">        VALUE is an optional value (defaults to &quot;&quot;)</span>
<span class="sd">        NAME is an optional Tcl name (defaults to PY_VARnum).</span>

<span class="sd">        If NAME matches an existing variable and VALUE is omitted</span>
<span class="sd">        then the existing value is retained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Variable</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return value of variable as string.&quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalgetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">IntVar</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Value holder for integer variables.&quot;&quot;&quot;</span>
    <span class="n">_default</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct an integer variable.</span>

<span class="sd">        MASTER can be given as master widget.</span>
<span class="sd">        VALUE is an optional value (defaults to 0)</span>
<span class="sd">        NAME is an optional Tcl name (defaults to PY_VARnum).</span>

<span class="sd">        If NAME matches an existing variable and VALUE is omitted</span>
<span class="sd">        then the existing value is retained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Variable</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of the variable as an integer.&quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalgetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">TclError</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">DoubleVar</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Value holder for float variables.&quot;&quot;&quot;</span>
    <span class="n">_default</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a float variable.</span>

<span class="sd">        MASTER can be given as master widget.</span>
<span class="sd">        VALUE is an optional value (defaults to 0.0)</span>
<span class="sd">        NAME is an optional Tcl name (defaults to PY_VARnum).</span>

<span class="sd">        If NAME matches an existing variable and VALUE is omitted</span>
<span class="sd">        then the existing value is retained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Variable</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of the variable as a float.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalgetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">BooleanVar</span><span class="p">(</span><span class="n">Variable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Value holder for boolean variables.&quot;&quot;&quot;</span>
    <span class="n">_default</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a boolean variable.</span>

<span class="sd">        MASTER can be given as master widget.</span>
<span class="sd">        VALUE is an optional value (defaults to False)</span>
<span class="sd">        NAME is an optional Tcl name (defaults to PY_VARnum).</span>

<span class="sd">        If NAME matches an existing variable and VALUE is omitted</span>
<span class="sd">        then the existing value is retained.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Variable</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the variable to VALUE.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalsetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

    <span class="n">initialize</span> <span class="o">=</span> <span class="nb">set</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of the variable as a bool.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tk</span><span class="o">.</span><span class="n">globalgetvar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;invalid literal for getboolean()&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">mainloop</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the main loop of Tcl.&quot;&quot;&quot;</span>
    <span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">mainloop</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>


<span class="n">getint</span> <span class="o">=</span> <span class="nb">int</span>

<span class="n">getdouble</span> <span class="o">=</span> <span class="nb">float</span>


<span class="k">def</span> <span class="nf">getboolean</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert true and false to integer values 1 and 0.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;invalid literal for getboolean()&quot;</span><span class="p">)</span>


<span class="c1"># Methods defined on both toplevel and interior widgets</span>

<span class="k">class</span> <span class="nc">Misc</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Internal class.</span>

<span class="sd">    Base class which defines methods common for interior widgets.&quot;&quot;&quot;</span>

    <span class="c1"># used for generating child widget names</span>
    <span class="n">_last_child_ids</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># XXX font command?</span>
    <span class="n">_tclCommands</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.</span>

<span class="sd">        Delete all Tcl commands created for</span>
<span class="sd">        this widget in the Tcl interpreter.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="p">:</span>
                <span class="c1">#print &#39;- Tkinter: deleted command&#39;, name</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">deletecommand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.</span>

<span class="sd">        Delete the Tcl command provided in NAME.&quot;&quot;&quot;</span>
        <span class="c1">#print &#39;- Tkinter: deleted command&#39;, name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">tk_strictMotif</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set Tcl internal variable, whether the look and feel</span>
<span class="sd">        should adhere to Motif.</span>

<span class="sd">        A parameter of 1 means adhere to Motif (e.g. no color</span>
<span class="sd">        change if mouse passes over slider).</span>
<span class="sd">        Returns the set value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="s1">&#39;tk_strictMotif&#39;</span><span class="p">,</span> <span class="n">boolean</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tk_bisque</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the color scheme to light brown as used in Tk 3.6 and before.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk_bisque&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tk_setPalette</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set a new color scheme for all widget elements.</span>

<span class="sd">        A single color as argument will cause that all colors of Tk</span>
<span class="sd">        widget elements are derived from this.</span>
<span class="sd">        Alternatively several keyword parameters and its associated</span>
<span class="sd">        colors can be given. The following keywords are valid:</span>
<span class="sd">        activeBackground, foreground, selectColor,</span>
<span class="sd">        activeForeground, highlightBackground, selectBackground,</span>
<span class="sd">        background, highlightColor, selectForeground,</span>
<span class="sd">        disabledForeground, insertBackground, troughColor.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;tk_setPalette&#39;</span><span class="p">,)</span>
              <span class="o">+</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">+</span> <span class="n">_flatten</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">kw</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>

    <span class="k">def</span> <span class="nf">wait_variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;PY_VAR&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Wait until the variable is modified.</span>

<span class="sd">        A parameter of type IntVar, StringVar, DoubleVar or</span>
<span class="sd">        BooleanVar must be given.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tkwait&#39;</span><span class="p">,</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="n">waitvar</span> <span class="o">=</span> <span class="n">wait_variable</span> <span class="c1"># XXX b/w compat</span>

    <span class="k">def</span> <span class="nf">wait_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Wait until a WIDGET is destroyed.</span>

<span class="sd">        If no parameter is given self is used.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">window</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tkwait&#39;</span><span class="p">,</span> <span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="n">window</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Wait until the visibility of a WIDGET changes</span>
<span class="sd">        (e.g. it appears).</span>

<span class="sd">        If no parameter is given self is used.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">window</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tkwait&#39;</span><span class="p">,</span> <span class="s1">&#39;visibility&#39;</span><span class="p">,</span> <span class="n">window</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setvar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;PY_VAR&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set Tcl variable NAME to VALUE.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">setvar</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getvar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;PY_VAR&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return value of Tcl variable NAME.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getvar</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a boolean value for Tcl boolean values true and false given as parameter.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;invalid literal for getboolean()&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">focus_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Direct input focus to this widget.</span>

<span class="sd">        If the application currently does not have the focus</span>
<span class="sd">        this widget will get the focus if the application gets</span>
<span class="sd">        the focus through the window manager.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
    <span class="n">focus</span> <span class="o">=</span> <span class="n">focus_set</span> <span class="c1"># XXX b/w compat?</span>

    <span class="k">def</span> <span class="nf">focus_force</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Direct input focus to this widget even if the</span>
<span class="sd">        application does not have the focus. Use with</span>
<span class="sd">        caution!&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;-force&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">focus_get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the widget which has currently the focus in the</span>
<span class="sd">        application.</span>

<span class="sd">        Use focus_displayof to allow working with several</span>
<span class="sd">        displays. Return None if application does not have</span>
<span class="sd">        the focus.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">focus_displayof</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the widget which has currently the focus on the</span>
<span class="sd">        display where this widget is located.</span>

<span class="sd">        Return None if the application does not have the focus.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;-displayof&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">focus_lastfor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the widget which would have the focus if top level</span>
<span class="sd">        for this widget gets the focus from the window manager.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;focus&#39;</span><span class="p">,</span> <span class="s1">&#39;-lastfor&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tk_focusFollowsMouse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The widget under mouse will get automatically focus. Can not</span>
<span class="sd">        be disabled easily.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk_focusFollowsMouse&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tk_focusNext</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the next widget in the focus order which follows</span>
<span class="sd">        widget which has currently the focus.</span>

<span class="sd">        The focus order first goes to the next child, then to</span>
<span class="sd">        the children of the child recursively and then to the</span>
<span class="sd">        next sibling which is higher in the stacking order.  A</span>
<span class="sd">        widget is omitted if it has the takefocus resource set</span>
<span class="sd">        to 0.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk_focusNext&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tk_focusPrev</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return previous widget in the focus order. See tk_focusNext for details.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk_focusPrev&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">after</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Call function once after given time.</span>

<span class="sd">        MS specifies the time in milliseconds. FUNC gives the</span>
<span class="sd">        function which shall be called. Additional parameters</span>
<span class="sd">        are given as parameters to the function call.  Return</span>
<span class="sd">        identifier to cancel scheduling with after_cancel.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">func</span><span class="p">:</span>
            <span class="c1"># I&#39;d rather use time.sleep(ms*0.001)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;after&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">callit</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
                <span class="k">finally</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
                        <span class="k">pass</span>
            <span class="n">callit</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">callit</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;after&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">after_idle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Call FUNC once if the Tcl main loop has no event to</span>
<span class="sd">        process.</span>

<span class="sd">        Return an identifier to cancel the scheduling with</span>
<span class="sd">        after_cancel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="s1">&#39;idle&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">after_cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Cancel scheduling of function identified with ID.</span>

<span class="sd">        Identifier returned by after or after_idle must be</span>
<span class="sd">        given as first parameter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;id must be a valid identifier returned from &#39;</span>
                             <span class="s1">&#39;after or after_idle&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;after&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
            <span class="n">script</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">data</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;after&#39;</span><span class="p">,</span> <span class="s1">&#39;cancel&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ring a display&#39;s bell.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;bell&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">))</span>

    <span class="c1"># Clipboard handling:</span>
    <span class="k">def</span> <span class="nf">clipboard_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve data from the clipboard on window&#39;s display.</span>

<span class="sd">        The window keyword defaults to the root window of the Tkinter</span>
<span class="sd">        application.</span>

<span class="sd">        The type keyword specifies the form in which the data is</span>
<span class="sd">        to be returned and should be an atom name such as STRING</span>
<span class="sd">        or FILE_NAME.  Type defaults to STRING, except on X11, where the default</span>
<span class="sd">        is to try UTF8_STRING and fall back to STRING.</span>

<span class="sd">        This command is equivalent to:</span>

<span class="sd">        selection_get(CLIPBOARD)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_windowingsystem</span> <span class="o">==</span> <span class="s1">&#39;x11&#39;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;UTF8_STRING&#39;</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;clipboard&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;clipboard&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">clipboard_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the data in the Tk clipboard.</span>

<span class="sd">        A widget specified for the optional displayof keyword</span>
<span class="sd">        argument specifies the target display.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;displayof&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;displayof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;clipboard&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">clipboard_append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Append STRING to the Tk clipboard.</span>

<span class="sd">        A widget specified at the optional displayof keyword</span>
<span class="sd">        argument specifies the target display. The clipboard</span>
<span class="sd">        can be retrieved with selection_get.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;displayof&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;displayof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;clipboard&#39;</span><span class="p">,</span> <span class="s1">&#39;append&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
              <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">))</span>
    <span class="c1"># XXX grab current w/o window argument</span>

    <span class="k">def</span> <span class="nf">grab_current</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return widget which has currently the grab in this application</span>
<span class="sd">        or None.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grab&#39;</span><span class="p">,</span> <span class="s1">&#39;current&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grab_release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Release grab for this widget if currently set.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grab&#39;</span><span class="p">,</span> <span class="s1">&#39;release&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grab_set</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set grab for this widget.</span>

<span class="sd">        A grab directs all events to this and descendant</span>
<span class="sd">        widgets in the application.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grab&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grab_set_global</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set global grab for this widget.</span>

<span class="sd">        A global grab directs all events to this and</span>
<span class="sd">        descendant widgets on the display. Use with caution -</span>
<span class="sd">        other applications do not get events anymore.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grab&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="s1">&#39;-global&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grab_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return None, &quot;local&quot; or &quot;global&quot; if this widget has</span>
<span class="sd">        no, a local or a global grab.&quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grab&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span> <span class="n">status</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">option_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">priority</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set a VALUE (second parameter) for an option</span>
<span class="sd">        PATTERN (first parameter).</span>

<span class="sd">        An optional third parameter gives the numeric priority</span>
<span class="sd">        (defaults to 80).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">option_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the option database.</span>

<span class="sd">        It will be reloaded if option_add is called.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">option_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">className</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value for an option NAME for this widget</span>
<span class="sd">        with CLASSNAME.</span>

<span class="sd">        Values with higher priority override lower values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">className</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">option_readfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">priority</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Read file FILENAME into the option database.</span>

<span class="sd">        An optional second parameter gives the numeric</span>
<span class="sd">        priority.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;option&#39;</span><span class="p">,</span> <span class="s1">&#39;readfile&#39;</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the current X selection.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;displayof&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;displayof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">selection_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the contents of the current X selection.</span>

<span class="sd">        A keyword parameter selection specifies the name of</span>
<span class="sd">        the selection and defaults to PRIMARY.  A keyword</span>
<span class="sd">        parameter displayof specifies a widget on the display</span>
<span class="sd">        to use. A keyword parameter type specifies the form of data to be</span>
<span class="sd">        fetched, defaulting to STRING except on X11, where UTF8_STRING is tried</span>
<span class="sd">        before STRING.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;displayof&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;displayof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>
        <span class="k">if</span> <span class="s1">&#39;type&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_windowingsystem</span> <span class="o">==</span> <span class="s1">&#39;x11&#39;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;UTF8_STRING&#39;</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
            <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">selection_handle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Specify a function COMMAND to call if the X</span>
<span class="sd">        selection owned by this widget is queried by another</span>
<span class="sd">        application.</span>

<span class="sd">        This function must return the contents of the</span>
<span class="sd">        selection. The function will be called with the</span>
<span class="sd">        arguments OFFSET and LENGTH which allows the chunking</span>
<span class="sd">        of very long selections. The following keyword</span>
<span class="sd">        parameters can be provided:</span>
<span class="sd">        selection - name of the selection (default PRIMARY),</span>
<span class="sd">        type - type of the selection (e.g. STRING, FILE_NAME).&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;handle&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
              <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">selection_own</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Become owner of X selection.</span>

<span class="sd">        A keyword parameter selection specifies the name of</span>
<span class="sd">        the selection (default PRIMARY).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">)</span> <span class="o">+</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,))</span>

    <span class="k">def</span> <span class="nf">selection_own_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return owner of X selection.</span>

<span class="sd">        The following keyword parameter can</span>
<span class="sd">        be provided:</span>
<span class="sd">        selection - name of the selection (default PRIMARY),</span>
<span class="sd">        type - type of the selection (e.g. STRING, FILE_NAME).&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;displayof&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span> <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;displayof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interp</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send Tcl command CMD to different interpreter INTERP to be executed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;send&#39;</span><span class="p">,</span> <span class="n">interp</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">lower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">belowThis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Lower this widget in the stacking order.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">belowThis</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tkraise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aboveThis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Raise this widget in the stacking order.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;raise&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">aboveThis</span><span class="p">)</span>

    <span class="n">lift</span> <span class="o">=</span> <span class="n">tkraise</span>

    <span class="k">def</span> <span class="nf">winfo_atom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return integer which represents atom NAME.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;atom&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_atomname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return name of atom with identifier ID.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;atomname&#39;</span><span class="p">)</span> \
               <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nb">id</span><span class="p">,)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_cells</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return number of cells in the colormap for this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;cells&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all widgets which are children of this widget.&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Tcl sometimes returns extra windows, e.g. for</span>
                <span class="c1"># menus; those need to be skipped</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">child</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">winfo_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return window class name of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_colormapfull</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if at the last color request the colormap was full.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;colormapfull&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_containing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rootX</span><span class="p">,</span> <span class="n">rootY</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the widget which is at the root coordinates ROOTX, ROOTY.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;containing&#39;</span><span class="p">)</span> \
               <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">rootX</span><span class="p">,</span> <span class="n">rootY</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of bits per pixel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if this widget exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;exists&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_fpixels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of pixels for the given distance NUMBER</span>
<span class="sd">        (e.g. &quot;3c&quot;) as float.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;fpixels&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">number</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return geometry string for this widget in the form &quot;widthxheight+X+Y&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return height of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return identifier ID for this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_interps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of all Tcl interpreters for this display.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;interps&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_ismapped</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if this widget is mapped.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;ismapped&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the window manager name for this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;manager&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the parent of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_pathname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">displayof</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the pathname of the widget given by ID.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;pathname&#39;</span><span class="p">)</span> \
               <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayof</span><span class="p">(</span><span class="n">displayof</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nb">id</span><span class="p">,)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_pixels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Rounded integer value of winfo_fpixels.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;pixels&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">number</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_pointerx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the x coordinate of the pointer on the root window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;pointerx&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_pointerxy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of x and y coordinates of the pointer on the root window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;pointerxy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_pointery</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the y coordinate of the pointer on the root window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;pointery&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_reqheight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return requested height of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;reqheight&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_reqwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return requested width of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;reqwidth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return tuple of decimal values for red, green, blue for</span>
<span class="sd">        COLOR in this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">color</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_rootx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return x coordinate of upper left corner of this widget on the</span>
<span class="sd">        root window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;rootx&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_rooty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return y coordinate of upper left corner of this widget on the</span>
<span class="sd">        root window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;rooty&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the screen name of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_screencells</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of the cells in the colormap of the screen</span>
<span class="sd">        of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screencells&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screendepth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of bits per pixel of the root window of the</span>
<span class="sd">        screen of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screendepth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screenheight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of pixels of the height of the screen of this widget</span>
<span class="sd">        in pixel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screenheight&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screenmmheight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of pixels of the height of the screen of</span>
<span class="sd">        this widget in mm.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screenmmheight&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screenmmwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of pixels of the width of the screen of</span>
<span class="sd">        this widget in mm.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screenmmwidth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_screenvisual</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return one of the strings directcolor, grayscale, pseudocolor,</span>
<span class="sd">        staticcolor, staticgray, or truecolor for the default</span>
<span class="sd">        colormodel of this screen.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screenvisual&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_screenwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of pixels of the width of the screen of</span>
<span class="sd">        this widget in pixel.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;screenwidth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_server</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return information of the X-Server of the screen of this widget in</span>
<span class="sd">        the form &quot;XmajorRminor vendor vendorVersion&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;server&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_toplevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the toplevel widget of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;toplevel&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_viewable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return true if the widget and all its higher ancestors are mapped.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;viewable&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_visual</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return one of the strings directcolor, grayscale, pseudocolor,</span>
<span class="sd">        staticcolor, staticgray, or truecolor for the</span>
<span class="sd">        colormodel of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;visual&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_visualid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the X identifier for the visual for this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;visualid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_visualsavailable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">includeids</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all visuals available for the screen</span>
<span class="sd">        of this widget.</span>

<span class="sd">        Each item in the list consists of a visual name (see winfo_visual), a</span>
<span class="sd">        depth and if includeids is true is given also the X identifier.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;visualsavailable&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span>
                            <span class="s1">&#39;includeids&#39;</span> <span class="k">if</span> <span class="n">includeids</span> <span class="k">else</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">__winfo_parseitem</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__winfo_parseitem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">t</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__winfo_getint</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>

    <span class="k">def</span> <span class="nf">__winfo_getint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">winfo_vrootheight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the height of the virtual root window associated with this</span>
<span class="sd">        widget in pixels. If there is no virtual root window return the</span>
<span class="sd">        height of the screen.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;vrootheight&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_vrootwidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the width of the virtual root window associated with this</span>
<span class="sd">        widget in pixel. If there is no virtual root window return the</span>
<span class="sd">        width of the screen.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;vrootwidth&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_vrootx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the x offset of the virtual root relative to the root</span>
<span class="sd">        window of the screen of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;vrootx&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_vrooty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the y offset of the virtual root relative to the root</span>
<span class="sd">        window of the screen of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;vrooty&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the width of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the x coordinate of the upper left corner of this widget</span>
<span class="sd">        in the parent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">winfo_y</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the y coordinate of the upper left corner of this widget</span>
<span class="sd">        in the parent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;winfo&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enter event loop until all pending events have been processed by Tcl.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_idletasks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enter event loop until all idle callbacks have been called. This</span>
<span class="sd">        will update the display of windows but not process events caused by</span>
<span class="sd">        the user.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="s1">&#39;idletasks&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bindtags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagList</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set or get the list of bindtags for this widget.</span>

<span class="sd">        With no argument return the list of all bindtags associated with</span>
<span class="sd">        this widget. With a list of strings as argument the bindtags are</span>
<span class="sd">        set to this list. The bindtags determine in which order events are</span>
<span class="sd">        processed (see bind).&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tagList</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;bindtags&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;bindtags&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">tagList</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">what</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="n">needcleanup</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">what</span> <span class="o">+</span> <span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">func</span><span class="p">:</span>
            <span class="n">funcid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_substitute</span><span class="p">,</span>
                        <span class="n">needcleanup</span><span class="p">)</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">if {&quot;[</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">]&quot; == &quot;break&quot;} break</span><span class="se">\n</span><span class="s1">&#39;</span>
                   <span class="o">%</span>
                   <span class="p">(</span><span class="n">add</span> <span class="ow">and</span> <span class="s1">&#39;+&#39;</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="n">funcid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subst_format_str</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">what</span> <span class="o">+</span> <span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">cmd</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">funcid</span>
        <span class="k">elif</span> <span class="n">sequence</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">what</span> <span class="o">+</span> <span class="p">(</span><span class="n">sequence</span><span class="p">,))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">what</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind to this widget at event SEQUENCE a call to function FUNC.</span>

<span class="sd">        SEQUENCE is a string of concatenated event</span>
<span class="sd">        patterns. An event pattern is of the form</span>
<span class="sd">        &lt;MODIFIER-MODIFIER-TYPE-DETAIL&gt; where MODIFIER is one</span>
<span class="sd">        of Control, Mod2, M2, Shift, Mod3, M3, Lock, Mod4, M4,</span>
<span class="sd">        Button1, B1, Mod5, M5 Button2, B2, Meta, M, Button3,</span>
<span class="sd">        B3, Alt, Button4, B4, Double, Button5, B5 Triple,</span>
<span class="sd">        Mod1, M1. TYPE is one of Activate, Enter, Map,</span>
<span class="sd">        ButtonPress, Button, Expose, Motion, ButtonRelease</span>
<span class="sd">        FocusIn, MouseWheel, Circulate, FocusOut, Property,</span>
<span class="sd">        Colormap, Gravity Reparent, Configure, KeyPress, Key,</span>
<span class="sd">        Unmap, Deactivate, KeyRelease Visibility, Destroy,</span>
<span class="sd">        Leave and DETAIL is the button number for ButtonPress,</span>
<span class="sd">        ButtonRelease and DETAIL is the Keysym for KeyPress and</span>
<span class="sd">        KeyRelease. Examples are</span>
<span class="sd">        &lt;Control-Button-1&gt; for pressing Control and mouse button 1 or</span>
<span class="sd">        &lt;Alt-A&gt; for pressing A and the Alt key (KeyPress can be omitted).</span>
<span class="sd">        An event pattern can also be a virtual event of the form</span>
<span class="sd">        &lt;&lt;AString&gt;&gt; where AString can be arbitrary. This</span>
<span class="sd">        event can be generated by event_generate.</span>
<span class="sd">        If events are concatenated they must appear shortly</span>
<span class="sd">        after each other.</span>

<span class="sd">        FUNC will be called if the event sequence occurs with an</span>
<span class="sd">        instance of Event as argument. If the return value of FUNC is</span>
<span class="sd">        &quot;break&quot; no further bound function is invoked.</span>

<span class="sd">        An additional boolean parameter ADD specifies whether FUNC will</span>
<span class="sd">        be called additionally to the other bound function or whether</span>
<span class="sd">        it will replace the previous function.</span>

<span class="sd">        Bind will return an identifier to allow deletion of the bound function with</span>
<span class="sd">        unbind without memory leak.</span>

<span class="sd">        If FUNC or SEQUENCE is omitted the bound function or list</span>
<span class="sd">        of bound events are returned.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">),</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">funcid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind for this widget for event SEQUENCE  the</span>
<span class="sd">        function identified with FUNCID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">funcid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">funcid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind to all widgets at an event SEQUENCE a call to function FUNC.</span>
<span class="sd">        An additional boolean parameter ADD specifies whether FUNC will</span>
<span class="sd">        be called additionally to the other bound function or whether</span>
<span class="sd">        it will replace the previous function. See bind for the return value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">),</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unbind_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind for all widgets for event SEQUENCE all functions.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span> <span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bind_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">className</span><span class="p">,</span> <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind to widgets with bindtag CLASSNAME at event</span>
<span class="sd">        SEQUENCE a call of function FUNC. An additional</span>
<span class="sd">        boolean parameter ADD specifies whether FUNC will be</span>
<span class="sd">        called additionally to the other bound function or</span>
<span class="sd">        whether it will replace the previous function. See bind for</span>
<span class="sd">        the return value.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">className</span><span class="p">),</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unbind_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">className</span><span class="p">,</span> <span class="n">sequence</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind for all widgets with bindtag CLASSNAME for event SEQUENCE</span>
<span class="sd">        all functions.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">className</span> <span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mainloop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Call the mainloop of Tk.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">mainloop</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">quit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Quit the Tcl interpreter. All widgets will be destroyed.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_getints</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">string</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_getdoubles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">string</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_getboolean</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_displayof</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">displayof</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">displayof</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;-displayof&#39;</span><span class="p">,</span> <span class="n">displayof</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">displayof</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;-displayof&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_windowingsystem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span><span class="o">.</span><span class="n">_windowingsystem_cached</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">ws</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span><span class="o">.</span><span class="n">_windowingsystem_cached</span> <span class="o">=</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk&#39;</span><span class="p">,</span> <span class="s1">&#39;windowingsystem&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">ws</span>

    <span class="k">def</span> <span class="nf">_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">kw</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">(</span><span class="n">cnf</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cnf</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span> <span class="n">k</span> <span class="o">=</span> <span class="n">k</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
                    <span class="n">nv</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                            <span class="n">nv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                            <span class="n">nv</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_stringify</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">v</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nv</span><span class="p">)</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">nametowidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the Tkinter instance of a widget identified by</span>
<span class="sd">        its Tcl name NAME.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">n</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">w</span>

    <span class="n">_nametowidget</span> <span class="o">=</span> <span class="n">nametowidget</span>

    <span class="k">def</span> <span class="nf">_register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">subst</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">needcleanup</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a newly created Tcl function. If this</span>
<span class="sd">        function is called, the Python function FUNC will</span>
<span class="sd">        be executed. An optional function SUBST can</span>
<span class="sd">        be given which will be executed before FUNC.&quot;&quot;&quot;</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">CallWrapper</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">subst</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__call__</span>
        <span class="n">name</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">func</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="vm">__func__</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="n">func</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">createcommand</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">needcleanup</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name</span>

    <span class="n">register</span> <span class="o">=</span> <span class="n">_register</span>

    <span class="k">def</span> <span class="nf">_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">while</span> <span class="n">w</span><span class="o">.</span><span class="n">master</span><span class="p">:</span> <span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">master</span>
        <span class="k">return</span> <span class="n">w</span>
    <span class="n">_subst_format</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;%#&#39;</span><span class="p">,</span> <span class="s1">&#39;%b&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%h&#39;</span><span class="p">,</span> <span class="s1">&#39;%k&#39;</span><span class="p">,</span>
             <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%t&#39;</span><span class="p">,</span> <span class="s1">&#39;%w&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%x</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%y&#39;</span><span class="p">,</span>
             <span class="s1">&#39;%A&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%E</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%K&#39;</span><span class="p">,</span> <span class="s1">&#39;%N&#39;</span><span class="p">,</span> <span class="s1">&#39;%W&#39;</span><span class="p">,</span> <span class="s1">&#39;%T&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%X</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y&#39;</span><span class="p">,</span> <span class="s1">&#39;%D&#39;</span><span class="p">)</span>
    <span class="n">_subst_format_str</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_subst_format</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_substitute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_subst_format</span><span class="p">):</span> <span class="k">return</span> <span class="n">args</span>
        <span class="n">getboolean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span>

        <span class="n">getint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span>
        <span class="k">def</span> <span class="nf">getint_event</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Tk changed behavior in 8.4.2, returning &quot;??&quot; rather more often.&quot;&quot;&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">getint</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">TclError</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">s</span>

        <span class="n">nsign</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="n">args</span>
        <span class="c1"># Missing: (a, c, d, m, o, v, B, R)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>
        <span class="c1"># serial field: valid for all events</span>
        <span class="c1"># number of button: ButtonPress and ButtonRelease events only</span>
        <span class="c1"># height field: Configure, ConfigureRequest, Create,</span>
        <span class="c1"># ResizeRequest, and Expose events only</span>
        <span class="c1"># keycode field: KeyPress and KeyRelease events only</span>
        <span class="c1"># time field: &quot;valid for events that contain a time field&quot;</span>
        <span class="c1"># width field: Configure, ConfigureRequest, Create, ResizeRequest,</span>
        <span class="c1"># and Expose events only</span>
        <span class="c1"># x field: &quot;valid for events that contain an x field&quot;</span>
        <span class="c1"># y field: &quot;valid for events that contain a y field&quot;</span>
        <span class="c1"># keysym as decimal: KeyPress and KeyRelease events only</span>
        <span class="c1"># x_root, y_root fields: ButtonPress, ButtonRelease, KeyPress,</span>
        <span class="c1"># KeyRelease, and Motion events</span>
        <span class="n">e</span><span class="o">.</span><span class="n">serial</span> <span class="o">=</span> <span class="n">getint</span><span class="p">(</span><span class="n">nsign</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">focus</span> <span class="o">=</span> <span class="n">getboolean</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">e</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">keycode</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">char</span> <span class="o">=</span> <span class="n">A</span>
        <span class="k">try</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">send_event</span> <span class="o">=</span> <span class="n">getboolean</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span> <span class="k">pass</span>
        <span class="n">e</span><span class="o">.</span><span class="n">keysym</span> <span class="o">=</span> <span class="n">K</span>
        <span class="n">e</span><span class="o">.</span><span class="n">keysym_num</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">EventType</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">T</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="n">W</span>
        <span class="n">e</span><span class="o">.</span><span class="n">x_root</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">y_root</span> <span class="o">=</span> <span class="n">getint_event</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">e</span><span class="o">.</span><span class="n">delta</span> <span class="o">=</span> <span class="n">getint</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">TclError</span><span class="p">):</span>
            <span class="n">e</span><span class="o">.</span><span class="n">delta</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">e</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">_report_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="n">exc</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span>
        <span class="n">root</span><span class="o">.</span><span class="n">report_callback_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">tb</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_getconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Call Tcl configure command and return the result as a dict.&quot;&quot;&quot;</span>
        <span class="n">cnf</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">cnf</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:],)</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">return</span> <span class="n">cnf</span>

    <span class="k">def</span> <span class="nf">_getconfigure1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:],)</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="k">def</span> <span class="nf">_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">kw</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">cnf</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">(</span><span class="n">cnf</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cnf</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getconfigure</span><span class="p">(</span><span class="n">_flatten</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)))</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getconfigure1</span><span class="p">(</span><span class="n">_flatten</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">cnf</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">_flatten</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">cmd</span><span class="p">))</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">))</span>
    <span class="c1"># These used to be defined in Widget:</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure resources of a widget.</span>

<span class="sd">        The values for resources are specified as keyword</span>
<span class="sd">        arguments. To get an overview about</span>
<span class="sd">        the allowed keyword arguments call the method keys.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">(</span><span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">configure</span>

    <span class="k">def</span> <span class="nf">cget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the resource value for a KEY given as string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;cget&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span>

    <span class="fm">__getitem__</span> <span class="o">=</span> <span class="n">cget</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">({</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all resource names of this widget.&quot;&quot;&quot;</span>
        <span class="n">splitlist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">splitlist</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
                <span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">))]</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the window path name of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1"> object </span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="c1"># Pack methods that apply to the master</span>
    <span class="n">_noarg_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_noarg_&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">pack_propagate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">_noarg_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set or get the status for propagation of geometry information.</span>

<span class="sd">        A boolean argument specifies whether the geometry information</span>
<span class="sd">        of the slaves will determine the size of this widget. If no argument</span>
<span class="sd">        is given the current setting will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">Misc</span><span class="o">.</span><span class="n">_noarg_</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                <span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;propagate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;propagate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

    <span class="n">propagate</span> <span class="o">=</span> <span class="n">pack_propagate</span>

    <span class="k">def</span> <span class="nf">pack_slaves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all slaves of this widget</span>
<span class="sd">        in its packing order.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                   <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;slaves&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))]</span>

    <span class="n">slaves</span> <span class="o">=</span> <span class="n">pack_slaves</span>

    <span class="c1"># Place method that applies to the master</span>
    <span class="k">def</span> <span class="nf">place_slaves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all slaves of this widget</span>
<span class="sd">        in its packing order.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                   <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                       <span class="s1">&#39;place&#39;</span><span class="p">,</span> <span class="s1">&#39;slaves&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))]</span>

    <span class="c1"># Grid methods that apply to the master</span>

    <span class="k">def</span> <span class="nf">grid_anchor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;The anchor value controls how to place the grid within the</span>
<span class="sd">        master when no row/column has any weight.</span>

<span class="sd">        The default anchor is nw.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;anchor&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">anchor</span><span class="p">)</span>

    <span class="n">anchor</span> <span class="o">=</span> <span class="n">grid_anchor</span>

    <span class="k">def</span> <span class="nf">grid_bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">col2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of integer coordinates for the bounding</span>
<span class="sd">        box of this widget controlled by the geometry manager grid.</span>

<span class="sd">        If COLUMN, ROW is given the bounding box applies from</span>
<span class="sd">        the cell with row and column 0 to the specified</span>
<span class="sd">        cell. If COL2 and ROW2 are given the bounding box</span>
<span class="sd">        starts at that cell.</span>

<span class="sd">        The returned integers specify the offset of the upper left</span>
<span class="sd">        corner in the master widget and the width and height.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;bbox&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">row</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">col2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">row2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="n">col2</span><span class="p">,</span> <span class="n">row2</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="n">bbox</span> <span class="o">=</span> <span class="n">grid_bbox</span>

    <span class="k">def</span> <span class="nf">_gridconvvalue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">Tcl_Obj</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">svalue</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">svalue</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">None</span>
                <span class="k">elif</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">svalue</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="n">svalue</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">svalue</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">TclError</span><span class="p">):</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">_grid_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cnf</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span>
                <span class="n">cnf</span> <span class="o">=</span> <span class="n">cnf</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">cnf</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
                <span class="n">cnf</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">cnf</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">(</span><span class="n">cnf</span><span class="p">,)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">options</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_splitdict</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span>
                <span class="n">conv</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_gridconvvalue</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                  <span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
                  <span class="o">+</span> <span class="n">options</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gridconvvalue</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grid_columnconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure column INDEX of a grid.</span>

<span class="sd">        Valid resources are minsize (minimum size of the column),</span>
<span class="sd">        weight (how much does additional space propagate to this column)</span>
<span class="sd">        and pad (how much space to let additionally).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid_configure</span><span class="p">(</span><span class="s1">&#39;columnconfigure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">columnconfigure</span> <span class="o">=</span> <span class="n">grid_columnconfigure</span>

    <span class="k">def</span> <span class="nf">grid_location</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of column and row which identify the cell</span>
<span class="sd">        at which the pixel at position X and Y inside the master</span>
<span class="sd">        widget is located.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                <span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">grid_propagate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">_noarg_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set or get the status for propagation of geometry information.</span>

<span class="sd">        A boolean argument specifies whether the geometry information</span>
<span class="sd">        of the slaves will determine the size of this widget. If no argument</span>
<span class="sd">        is given, the current setting will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">flag</span> <span class="ow">is</span> <span class="n">Misc</span><span class="o">.</span><span class="n">_noarg_</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                <span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;propagate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;propagate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">flag</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grid_rowconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure row INDEX of a grid.</span>

<span class="sd">        Valid resources are minsize (minimum size of the row),</span>
<span class="sd">        weight (how much does additional space propagate to this row)</span>
<span class="sd">        and pad (how much space to let additionally).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grid_configure</span><span class="p">(</span><span class="s1">&#39;rowconfigure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">rowconfigure</span> <span class="o">=</span> <span class="n">grid_rowconfigure</span>

    <span class="k">def</span> <span class="nf">grid_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of the number of column and rows in the grid.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="n">size</span> <span class="o">=</span> <span class="n">grid_size</span>

    <span class="k">def</span> <span class="nf">grid_slaves</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all slaves of this widget</span>
<span class="sd">        in its packing order.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">if</span> <span class="n">row</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-row&#39;</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-column&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                   <span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;slaves&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))]</span>

    <span class="c1"># Support for the &quot;event&quot; command, new in Tk 4.2.</span>
    <span class="c1"># By Case Roole.</span>

    <span class="k">def</span> <span class="nf">event_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtual</span><span class="p">,</span> <span class="o">*</span><span class="n">sequences</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind a virtual event VIRTUAL (of the form &lt;&lt;Name&gt;&gt;)</span>
<span class="sd">        to an event SEQUENCE such that the virtual event is triggered</span>
<span class="sd">        whenever SEQUENCE occurs.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">virtual</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequences</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtual</span><span class="p">,</span> <span class="o">*</span><span class="n">sequences</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind a virtual event VIRTUAL from SEQUENCE.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">virtual</span><span class="p">)</span> <span class="o">+</span> <span class="n">sequences</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Generate an event SEQUENCE. Additional</span>
<span class="sd">        keyword arguments specify parameter of the event</span>
<span class="sd">        (e.g. x, y, rootx, rooty).&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;generate&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">sequence</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kw</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">k</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">event_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtual</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all virtual events or the information</span>
<span class="sd">        about the SEQUENCE bound to the virtual event VIRTUAL.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">virtual</span><span class="p">))</span>

    <span class="c1"># Image related commands</span>

    <span class="k">def</span> <span class="nf">image_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all existing image names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">image_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all available image types (e.g. photo bitmap).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;types&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">CallWrapper</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Internal class. Stores function to call when some user</span>
<span class="sd">    defined Tcl function is called e.g. after an event occurred.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">subst</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Store FUNC, SUBST and WIDGET as members.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">func</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">subst</span> <span class="o">=</span> <span class="n">subst</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="n">widget</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Apply first function SUBST to arguments, than FUNC.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subst</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subst</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">SystemExit</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">_report_exception</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">XView</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Mix-in class for querying and changing the horizontal position</span>
<span class="sd">    of a widget&#39;s window.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">xview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query and change the horizontal position of the view.&quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;xview&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getdoubles</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">xview_moveto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fraction</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjusts the view in the window so that FRACTION of the</span>
<span class="sd">        total width of the canvas is off-screen to the left.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;xview&#39;</span><span class="p">,</span> <span class="s1">&#39;moveto&#39;</span><span class="p">,</span> <span class="n">fraction</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">xview_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">what</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Shift the x-view according to NUMBER which is measured in &quot;units&quot;</span>
<span class="sd">        or &quot;pages&quot; (WHAT).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;xview&#39;</span><span class="p">,</span> <span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">what</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">YView</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Mix-in class for querying and changing the vertical position</span>
<span class="sd">    of a widget&#39;s window.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">yview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query and change the vertical position of the view.&quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;yview&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getdoubles</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">yview_moveto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fraction</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjusts the view in the window so that FRACTION of the</span>
<span class="sd">        total height of the canvas is off-screen to the top.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;yview&#39;</span><span class="p">,</span> <span class="s1">&#39;moveto&#39;</span><span class="p">,</span> <span class="n">fraction</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">yview_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">what</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Shift the y-view according to NUMBER which is measured in</span>
<span class="sd">        &quot;units&quot; or &quot;pages&quot; (WHAT).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;yview&#39;</span><span class="p">,</span> <span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">what</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Wm</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Provides functions for the communication with the window manager.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">wm_aspect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">minNumer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minDenom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">maxNumer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxDenom</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager to set the aspect ratio (width/height)</span>
<span class="sd">        of this widget to be between MINNUMER/MINDENOM and MAXNUMER/MAXDENOM. Return a tuple</span>
<span class="sd">        of the actual values if no argument is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;aspect&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span>
                     <span class="n">minNumer</span><span class="p">,</span> <span class="n">minDenom</span><span class="p">,</span>
                     <span class="n">maxNumer</span><span class="p">,</span> <span class="n">maxDenom</span><span class="p">))</span>

    <span class="n">aspect</span> <span class="o">=</span> <span class="n">wm_aspect</span>

    <span class="k">def</span> <span class="nf">wm_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This subcommand returns or sets platform specific attributes</span>

<span class="sd">        The first form returns a list of the platform specific flags and</span>
<span class="sd">        their values. The second form returns the value for the specific</span>
<span class="sd">        option. The third form sets one or more of the values. The values</span>
<span class="sd">        are as follows:</span>

<span class="sd">        On Windows, -disabled gets or sets whether the window is in a</span>
<span class="sd">        disabled state. -toolwindow gets or sets the style of the window</span>
<span class="sd">        to toolwindow (as defined in the MSDN). -topmost gets or sets</span>
<span class="sd">        whether this is a topmost window (displays above all other</span>
<span class="sd">        windows).</span>

<span class="sd">        On Macintosh, XXXXX</span>

<span class="sd">        On Unix, there are currently no special attribute values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;attributes&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="n">attributes</span> <span class="o">=</span> <span class="n">wm_attributes</span>

    <span class="k">def</span> <span class="nf">wm_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Store NAME in WM_CLIENT_MACHINE property of this widget. Return</span>
<span class="sd">        current value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;client&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">wm_client</span>

    <span class="k">def</span> <span class="nf">wm_colormapwindows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">wlist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Store list of window names (WLIST) into WM_COLORMAPWINDOWS property</span>
<span class="sd">        of this widget. This list contains windows whose colormaps differ from their</span>
<span class="sd">        parents. Return current list of widgets if WLIST is empty.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wlist</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">wlist</span> <span class="o">=</span> <span class="p">(</span><span class="n">wlist</span><span class="p">,)</span> <span class="c1"># Tk needs a list of windows here</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;colormapwindows&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span> <span class="o">+</span> <span class="n">wlist</span>
        <span class="k">if</span> <span class="n">wlist</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_nametowidget</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">))]</span>

    <span class="n">colormapwindows</span> <span class="o">=</span> <span class="n">wm_colormapwindows</span>

    <span class="k">def</span> <span class="nf">wm_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Store VALUE in WM_COMMAND property. It is the command</span>
<span class="sd">        which shall be used to invoke the application. Return current</span>
<span class="sd">        command if VALUE is None.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="n">command</span> <span class="o">=</span> <span class="n">wm_command</span>

    <span class="k">def</span> <span class="nf">wm_deiconify</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Deiconify this widget. If it was never mapped it will not be mapped.</span>
<span class="sd">        On Windows it will raise this widget and give it the focus.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;deiconify&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">deiconify</span> <span class="o">=</span> <span class="n">wm_deiconify</span>

    <span class="k">def</span> <span class="nf">wm_focusmodel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set focus model to MODEL. &quot;active&quot; means that this widget will claim</span>
<span class="sd">        the focus itself, &quot;passive&quot; means that the window manager shall give</span>
<span class="sd">        the focus. Return current focus model if MODEL is None.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;focusmodel&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>

    <span class="n">focusmodel</span> <span class="o">=</span> <span class="n">wm_focusmodel</span>

    <span class="k">def</span> <span class="nf">wm_forget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;The window will be unmapped from the screen and will no longer</span>
<span class="sd">        be managed by wm. toplevel windows will be treated like frame</span>
<span class="sd">        windows once they are no longer managed by wm, however, the menu</span>
<span class="sd">        option configuration will be remembered and the menus will return</span>
<span class="sd">        once the widget is managed again.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;forget&#39;</span><span class="p">,</span> <span class="n">window</span><span class="p">)</span>

    <span class="n">forget</span> <span class="o">=</span> <span class="n">wm_forget</span>

    <span class="k">def</span> <span class="nf">wm_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return identifier for decorative frame of this widget if present.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">frame</span> <span class="o">=</span> <span class="n">wm_frame</span>

    <span class="k">def</span> <span class="nf">wm_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newGeometry</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set geometry to NEWGEOMETRY of the form =widthxheight+x+y. Return</span>
<span class="sd">        current value if None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">newGeometry</span><span class="p">)</span>

    <span class="n">geometry</span> <span class="o">=</span> <span class="n">wm_geometry</span>

    <span class="k">def</span> <span class="nf">wm_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
         <span class="n">baseWidth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseHeight</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
         <span class="n">widthInc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">heightInc</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager that this widget shall only be</span>
<span class="sd">        resized on grid boundaries. WIDTHINC and HEIGHTINC are the width and</span>
<span class="sd">        height of a grid unit in pixels. BASEWIDTH and BASEHEIGHT are the</span>
<span class="sd">        number of grid units requested in Tk_GeometryRequest.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span>
            <span class="n">baseWidth</span><span class="p">,</span> <span class="n">baseHeight</span><span class="p">,</span> <span class="n">widthInc</span><span class="p">,</span> <span class="n">heightInc</span><span class="p">))</span>

    <span class="n">grid</span> <span class="o">=</span> <span class="n">wm_grid</span>

    <span class="k">def</span> <span class="nf">wm_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pathName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the group leader widgets for related widgets to PATHNAME. Return</span>
<span class="sd">        the group leader of this widget if None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">pathName</span><span class="p">)</span>

    <span class="n">group</span> <span class="o">=</span> <span class="n">wm_group</span>

    <span class="k">def</span> <span class="nf">wm_iconbitmap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitmap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set bitmap for the iconified widget to BITMAP. Return</span>
<span class="sd">        the bitmap if None is given.</span>

<span class="sd">        Under Windows, the DEFAULT parameter can be used to set the icon</span>
<span class="sd">        for the widget and any descendents that don&#39;t have an icon set</span>
<span class="sd">        explicitly.  DEFAULT can be the relative path to a .ico file</span>
<span class="sd">        (example: root.iconbitmap(default=&#39;myicon.ico&#39;) ).  See Tk</span>
<span class="sd">        documentation for more information.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">default</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconbitmap&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;-default&#39;</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconbitmap&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">bitmap</span><span class="p">)</span>

    <span class="n">iconbitmap</span> <span class="o">=</span> <span class="n">wm_iconbitmap</span>

    <span class="k">def</span> <span class="nf">wm_iconify</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Display widget as icon.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconify&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">iconify</span> <span class="o">=</span> <span class="n">wm_iconify</span>

    <span class="k">def</span> <span class="nf">wm_iconmask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bitmap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set mask for the icon bitmap of this widget. Return the</span>
<span class="sd">        mask if None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconmask&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">bitmap</span><span class="p">)</span>

    <span class="n">iconmask</span> <span class="o">=</span> <span class="n">wm_iconmask</span>

    <span class="k">def</span> <span class="nf">wm_iconname</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the name of the icon for this widget. Return the name if</span>
<span class="sd">        None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconname&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">newName</span><span class="p">)</span>

    <span class="n">iconname</span> <span class="o">=</span> <span class="n">wm_iconname</span>

    <span class="k">def</span> <span class="nf">wm_iconphoto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Sets the titlebar icon for this window based on the named photo</span>
<span class="sd">        images passed through args. If default is True, this is applied to</span>
<span class="sd">        all future created toplevels as well.</span>

<span class="sd">        The data in the images is taken as a snapshot at the time of</span>
<span class="sd">        invocation. If the images are later changed, this is not reflected</span>
<span class="sd">        to the titlebar icons. Multiple images are accepted to allow</span>
<span class="sd">        different images sizes to be provided. The window manager may scale</span>
<span class="sd">        provided icons to an appropriate size.</span>

<span class="sd">        On Windows, the images are packed into a Windows icon structure.</span>
<span class="sd">        This will override an icon specified to wm_iconbitmap, and vice</span>
<span class="sd">        versa.</span>

<span class="sd">        On X, the images are arranged into the _NET_WM_ICON X property,</span>
<span class="sd">        which most modern window managers support. An icon specified by</span>
<span class="sd">        wm_iconbitmap may exist simultaneously.</span>

<span class="sd">        On Macintosh, this currently does nothing.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">default</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconphoto&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;-default&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconphoto&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="n">iconphoto</span> <span class="o">=</span> <span class="n">wm_iconphoto</span>

    <span class="k">def</span> <span class="nf">wm_iconposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the position of the icon of this widget to X and Y. Return</span>
<span class="sd">        a tuple of the current values of X and X if None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconposition&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="n">iconposition</span> <span class="o">=</span> <span class="n">wm_iconposition</span>

    <span class="k">def</span> <span class="nf">wm_iconwindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pathName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set widget PATHNAME to be displayed instead of icon. Return the current</span>
<span class="sd">        value if None is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;iconwindow&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">pathName</span><span class="p">)</span>

    <span class="n">iconwindow</span> <span class="o">=</span> <span class="n">wm_iconwindow</span>

    <span class="k">def</span> <span class="nf">wm_manage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;The widget specified will become a stand alone top-level window.</span>
<span class="sd">        The window will be decorated with the window managers title bar,</span>
<span class="sd">        etc.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;manage&#39;</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span>

    <span class="n">manage</span> <span class="o">=</span> <span class="n">wm_manage</span>

    <span class="k">def</span> <span class="nf">wm_maxsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set max WIDTH and HEIGHT for this widget. If the window is gridded</span>
<span class="sd">        the values are given in grid units. Return the current values if None</span>
<span class="sd">        is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;maxsize&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

    <span class="n">maxsize</span> <span class="o">=</span> <span class="n">wm_maxsize</span>

    <span class="k">def</span> <span class="nf">wm_minsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set min WIDTH and HEIGHT for this widget. If the window is gridded</span>
<span class="sd">        the values are given in grid units. Return the current values if None</span>
<span class="sd">        is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;minsize&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>

    <span class="n">minsize</span> <span class="o">=</span> <span class="n">wm_minsize</span>

    <span class="k">def</span> <span class="nf">wm_overrideredirect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager to ignore this widget</span>
<span class="sd">        if BOOLEAN is given with 1. Return the current value if None</span>
<span class="sd">        is given.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;overrideredirect&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">boolean</span><span class="p">))</span>

    <span class="n">overrideredirect</span> <span class="o">=</span> <span class="n">wm_overrideredirect</span>

    <span class="k">def</span> <span class="nf">wm_positionfrom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">who</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager that the position of this widget shall</span>
<span class="sd">        be defined by the user if WHO is &quot;user&quot;, and by its own policy if WHO is</span>
<span class="sd">        &quot;program&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;positionfrom&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">who</span><span class="p">)</span>

    <span class="n">positionfrom</span> <span class="o">=</span> <span class="n">wm_positionfrom</span>

    <span class="k">def</span> <span class="nf">wm_protocol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind function FUNC to command NAME for this widget.</span>
<span class="sd">        Return the function bound to NAME if None is given. NAME could be</span>
<span class="sd">        e.g. &quot;WM_SAVE_YOURSELF&quot; or &quot;WM_DELETE_WINDOW&quot;.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
            <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">func</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;protocol&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>

    <span class="n">protocol</span> <span class="o">=</span> <span class="n">wm_protocol</span>

    <span class="k">def</span> <span class="nf">wm_resizable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager whether this width can be resized</span>
<span class="sd">        in WIDTH or HEIGHT. Both values are boolean values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;resizable&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

    <span class="n">resizable</span> <span class="o">=</span> <span class="n">wm_resizable</span>

    <span class="k">def</span> <span class="nf">wm_sizefrom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">who</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager that the size of this widget shall</span>
<span class="sd">        be defined by the user if WHO is &quot;user&quot;, and by its own policy if WHO is</span>
<span class="sd">        &quot;program&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;sizefrom&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">who</span><span class="p">)</span>

    <span class="n">sizefrom</span> <span class="o">=</span> <span class="n">wm_sizefrom</span>

    <span class="k">def</span> <span class="nf">wm_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newstate</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or set the state of this widget as one of normal, icon,</span>
<span class="sd">        iconic (see wm_iconwindow), withdrawn, or zoomed (Windows only).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;state&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">newstate</span><span class="p">)</span>

    <span class="n">state</span> <span class="o">=</span> <span class="n">wm_state</span>

    <span class="k">def</span> <span class="nf">wm_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the title of this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">wm_title</span>

    <span class="k">def</span> <span class="nf">wm_transient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instruct the window manager that this widget is transient</span>
<span class="sd">        with regard to widget MASTER.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;transient&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>

    <span class="n">transient</span> <span class="o">=</span> <span class="n">wm_transient</span>

    <span class="k">def</span> <span class="nf">wm_withdraw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Withdraw this widget from the screen such that it is unmapped</span>
<span class="sd">        and forgotten by the window manager. Re-draw it with wm_deiconify.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;wm&#39;</span><span class="p">,</span> <span class="s1">&#39;withdraw&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">withdraw</span> <span class="o">=</span> <span class="n">wm_withdraw</span>


<span class="k">class</span> <span class="nc">Tk</span><span class="p">(</span><span class="n">Misc</span><span class="p">,</span> <span class="n">Wm</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Toplevel widget of Tk which represents mostly the main window</span>
<span class="sd">    of an application. It has an associated Tcl interpreter.&quot;&quot;&quot;</span>
    <span class="n">_w</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screenName</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseName</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">className</span><span class="o">=</span><span class="s1">&#39;Tk&#39;</span><span class="p">,</span>
                 <span class="n">useTk</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sync</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">use</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a new Toplevel widget on screen SCREENNAME. A new Tcl interpreter will</span>
<span class="sd">        be created. BASENAME will be used for the identification of the profile file (see</span>
<span class="sd">        readprofile).</span>
<span class="sd">        It is constructed from sys.argv[0] without extensions if None is given. CLASSNAME</span>
<span class="sd">        is the name of the widget class.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tkloaded</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># to avoid recursions in the getattr code in case of failure, we</span>
        <span class="c1"># ensure that self.tk is always _something_.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">baseName</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">os</span>
            <span class="n">baseName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">baseName</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">baseName</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ext</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;.py&#39;</span><span class="p">,</span> <span class="s1">&#39;.pyc&#39;</span><span class="p">):</span>
                <span class="n">baseName</span> <span class="o">=</span> <span class="n">baseName</span> <span class="o">+</span> <span class="n">ext</span>
        <span class="n">interactive</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span> <span class="o">=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">screenName</span><span class="p">,</span> <span class="n">baseName</span><span class="p">,</span> <span class="n">className</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">wantobjects</span><span class="p">,</span> <span class="n">useTk</span><span class="p">,</span> <span class="n">sync</span><span class="p">,</span> <span class="n">use</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">useTk</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loadtk</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">ignore_environment</span><span class="p">:</span>
            <span class="c1"># Issue #16248: Honor the -E flag to avoid code injection.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">readprofile</span><span class="p">(</span><span class="n">baseName</span><span class="p">,</span> <span class="n">className</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loadtk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tkloaded</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">loadtk</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_loadtk</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_loadtk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tkloaded</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">global</span> <span class="n">_default_root</span>
        <span class="c1"># Version sanity checks</span>
        <span class="n">tk_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getvar</span><span class="p">(</span><span class="s1">&#39;tk_version&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tk_version</span> <span class="o">!=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">TK_VERSION</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;tk.h version (</span><span class="si">%s</span><span class="s2">) doesn&#39;t match libtk.a version (</span><span class="si">%s</span><span class="s2">)&quot;</span>
                               <span class="o">%</span> <span class="p">(</span><span class="n">_tkinter</span><span class="o">.</span><span class="n">TK_VERSION</span><span class="p">,</span> <span class="n">tk_version</span><span class="p">))</span>
        <span class="c1"># Under unknown circumstances, tcl_version gets coerced to float</span>
        <span class="n">tcl_version</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getvar</span><span class="p">(</span><span class="s1">&#39;tcl_version&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">tcl_version</span> <span class="o">!=</span> <span class="n">_tkinter</span><span class="o">.</span><span class="n">TCL_VERSION</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;tcl.h version (</span><span class="si">%s</span><span class="s2">) doesn&#39;t match libtcl.a version (</span><span class="si">%s</span><span class="s2">)&quot;</span> \
                               <span class="o">%</span> <span class="p">(</span><span class="n">_tkinter</span><span class="o">.</span><span class="n">TCL_VERSION</span><span class="p">,</span> <span class="n">tcl_version</span><span class="p">))</span>
        <span class="c1"># Create and register the tkerror and exit commands</span>
        <span class="c1"># We need to inline parts of _register here, _ register</span>
        <span class="c1"># would register differently-named commands.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">createcommand</span><span class="p">(</span><span class="s1">&#39;tkerror&#39;</span><span class="p">,</span> <span class="n">_tkerror</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">createcommand</span><span class="p">(</span><span class="s1">&#39;exit&#39;</span><span class="p">,</span> <span class="n">_exit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tkerror&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;exit&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_support_default_root</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">_default_root</span><span class="p">:</span>
            <span class="n">_default_root</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy this and all descendants widgets. This will</span>
<span class="sd">        end the application of this Tcl interpreter.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span> <span class="n">c</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;destroy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="n">Misc</span><span class="o">.</span><span class="n">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">global</span> <span class="n">_default_root</span>
        <span class="k">if</span> <span class="n">_support_default_root</span> <span class="ow">and</span> <span class="n">_default_root</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span>
            <span class="n">_default_root</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">readprofile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">baseName</span><span class="p">,</span> <span class="n">className</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function. It reads BASENAME.tcl and CLASSNAME.tcl into</span>
<span class="sd">        the Tcl Interpreter and calls exec on the contents of BASENAME.py and</span>
<span class="sd">        CLASSNAME.py if such a file exists in the home directory.&quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">os</span>
        <span class="k">if</span> <span class="s1">&#39;HOME&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span> <span class="n">home</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">home</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">curdir</span>
        <span class="n">class_tcl</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">home</span><span class="p">,</span> <span class="s1">&#39;.</span><span class="si">%s</span><span class="s1">.tcl&#39;</span> <span class="o">%</span> <span class="n">className</span><span class="p">)</span>
        <span class="n">class_py</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">home</span><span class="p">,</span> <span class="s1">&#39;.</span><span class="si">%s</span><span class="s1">.py&#39;</span> <span class="o">%</span> <span class="n">className</span><span class="p">)</span>
        <span class="n">base_tcl</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">home</span><span class="p">,</span> <span class="s1">&#39;.</span><span class="si">%s</span><span class="s1">.tcl&#39;</span> <span class="o">%</span> <span class="n">baseName</span><span class="p">)</span>
        <span class="n">base_py</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">home</span><span class="p">,</span> <span class="s1">&#39;.</span><span class="si">%s</span><span class="s1">.py&#39;</span> <span class="o">%</span> <span class="n">baseName</span><span class="p">)</span>
        <span class="nb">dir</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;self&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="p">}</span>
        <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;from tkinter import *&#39;</span><span class="p">,</span> <span class="nb">dir</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">class_tcl</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="n">class_tcl</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">class_py</span><span class="p">):</span>
            <span class="n">exec</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">class_py</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="nb">dir</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">base_tcl</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="n">base_tcl</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">base_py</span><span class="p">):</span>
            <span class="n">exec</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">base_py</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="nb">dir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">report_callback_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Report callback exception on sys.stderr.</span>

<span class="sd">        Applications may want to override this internal function, and</span>
<span class="sd">        should when sys.stderr is None.&quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">traceback</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception in Tkinter callback&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">last_type</span> <span class="o">=</span> <span class="n">exc</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">last_value</span> <span class="o">=</span> <span class="n">val</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">last_traceback</span> <span class="o">=</span> <span class="n">tb</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exception</span><span class="p">(</span><span class="n">exc</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">tb</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
        <span class="s2">&quot;Delegate attribute access to the interpreter object&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>

<span class="c1"># Ideally, the classes Pack, Place and Grid disappear, the</span>
<span class="c1"># pack/place/grid methods are defined on the Widget class, and</span>
<span class="c1"># everybody uses w.pack_whatever(...) instead of Pack.whatever(w,</span>
<span class="c1"># ...), with pack(), place() and grid() being short for</span>
<span class="c1"># pack_configure(), place_configure() and grid_columnconfigure(), and</span>
<span class="c1"># forget() being short for pack_forget().  As a practical matter, I&#39;m</span>
<span class="c1"># afraid that there is too much code out there that may be using the</span>
<span class="c1"># Pack, Place or Grid class, so I leave them intact -- but only as</span>
<span class="c1"># backwards compatibility features.  Also note that those methods that</span>
<span class="c1"># take a master as argument (e.g. pack_propagate) have been moved to</span>
<span class="c1"># the Misc class (which now incorporates all methods common between</span>
<span class="c1"># toplevel and interior widgets).  Again, for compatibility, these are</span>
<span class="c1"># copied into the Pack, Place or Grid class.</span>


<span class="k">def</span> <span class="nf">Tcl</span><span class="p">(</span><span class="n">screenName</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">baseName</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">className</span><span class="o">=</span><span class="s1">&#39;Tk&#39;</span><span class="p">,</span> <span class="n">useTk</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Tk</span><span class="p">(</span><span class="n">screenName</span><span class="p">,</span> <span class="n">baseName</span><span class="p">,</span> <span class="n">className</span><span class="p">,</span> <span class="n">useTk</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Pack</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Geometry manager Pack.</span>

<span class="sd">    Base class to use the methods pack_* in every widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">pack_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pack a widget in the parent widget. Use as options:</span>
<span class="sd">        after=widget - pack it after you have packed widget</span>
<span class="sd">        anchor=NSEW (or subset) - position widget according to</span>
<span class="sd">                                  given direction</span>
<span class="sd">        before=widget - pack it before you will pack widget</span>
<span class="sd">        expand=bool - expand widget if parent size grows</span>
<span class="sd">        fill=NONE or X or Y or BOTH - fill widget if widget grows</span>
<span class="sd">        in=master - use master to contain this widget</span>
<span class="sd">        in_=master - see &#39;in&#39; option description</span>
<span class="sd">        ipadx=amount - add internal padding in x direction</span>
<span class="sd">        ipady=amount - add internal padding in y direction</span>
<span class="sd">        padx=amount - add padding in x direction</span>
<span class="sd">        pady=amount - add padding in y direction</span>
<span class="sd">        side=TOP or BOTTOM or LEFT or RIGHT -  where to add this widget.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
              <span class="p">(</span><span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="n">pack</span> <span class="o">=</span> <span class="n">configure</span> <span class="o">=</span> <span class="n">config</span> <span class="o">=</span> <span class="n">pack_configure</span>

    <span class="k">def</span> <span class="nf">pack_forget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unmap this widget and do not use it for the packing order.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;forget&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">forget</span> <span class="o">=</span> <span class="n">pack_forget</span>

    <span class="k">def</span> <span class="nf">pack_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return information about the packing options</span>
<span class="sd">        for this widget.&quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">_splitdict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;pack&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">if</span> <span class="s1">&#39;in&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nametowidget</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">pack_info</span>
    <span class="n">propagate</span> <span class="o">=</span> <span class="n">pack_propagate</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">pack_propagate</span>
    <span class="n">slaves</span> <span class="o">=</span> <span class="n">pack_slaves</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">pack_slaves</span>


<span class="k">class</span> <span class="nc">Place</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Geometry manager Place.</span>

<span class="sd">    Base class to use the methods place_* in every widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">place_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Place a widget in the parent widget. Use as options:</span>
<span class="sd">        in=master - master relative to which the widget is placed</span>
<span class="sd">        in_=master - see &#39;in&#39; option description</span>
<span class="sd">        x=amount - locate anchor of this widget at position x of master</span>
<span class="sd">        y=amount - locate anchor of this widget at position y of master</span>
<span class="sd">        relx=amount - locate anchor of this widget between 0.0 and 1.0</span>
<span class="sd">                      relative to width of master (1.0 is right edge)</span>
<span class="sd">        rely=amount - locate anchor of this widget between 0.0 and 1.0</span>
<span class="sd">                      relative to height of master (1.0 is bottom edge)</span>
<span class="sd">        anchor=NSEW (or subset) - position anchor according to given direction</span>
<span class="sd">        width=amount - width of this widget in pixel</span>
<span class="sd">        height=amount - height of this widget in pixel</span>
<span class="sd">        relwidth=amount - width of this widget between 0.0 and 1.0</span>
<span class="sd">                          relative to width of master (1.0 is the same width</span>
<span class="sd">                          as the master)</span>
<span class="sd">        relheight=amount - height of this widget between 0.0 and 1.0</span>
<span class="sd">                           relative to height of master (1.0 is the same</span>
<span class="sd">                           height as the master)</span>
<span class="sd">        bordermode=&quot;inside&quot; or &quot;outside&quot; - whether to take border width of</span>
<span class="sd">                                           master widget into account</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
              <span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="n">place</span> <span class="o">=</span> <span class="n">configure</span> <span class="o">=</span> <span class="n">config</span> <span class="o">=</span> <span class="n">place_configure</span>

    <span class="k">def</span> <span class="nf">place_forget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unmap this widget.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">,</span> <span class="s1">&#39;forget&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">forget</span> <span class="o">=</span> <span class="n">place_forget</span>

    <span class="k">def</span> <span class="nf">place_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return information about the placing options</span>
<span class="sd">        for this widget.&quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">_splitdict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">if</span> <span class="s1">&#39;in&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nametowidget</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">place_info</span>
    <span class="n">slaves</span> <span class="o">=</span> <span class="n">place_slaves</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">place_slaves</span>


<span class="k">class</span> <span class="nc">Grid</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Geometry manager Grid.</span>

<span class="sd">    Base class to use the methods grid_* in every widget.&quot;&quot;&quot;</span>
    <span class="c1"># Thanks to Masazumi Yoshikawa (yosikawa@isi.edu)</span>

    <span class="k">def</span> <span class="nf">grid_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Position a widget in the parent widget in a grid. Use as options:</span>
<span class="sd">        column=number - use cell identified with given column (starting with 0)</span>
<span class="sd">        columnspan=number - this widget will span several columns</span>
<span class="sd">        in=master - use master to contain this widget</span>
<span class="sd">        in_=master - see &#39;in&#39; option description</span>
<span class="sd">        ipadx=amount - add internal padding in x direction</span>
<span class="sd">        ipady=amount - add internal padding in y direction</span>
<span class="sd">        padx=amount - add padding in x direction</span>
<span class="sd">        pady=amount - add padding in y direction</span>
<span class="sd">        row=number - use cell identified with given row (starting with 0)</span>
<span class="sd">        rowspan=number - this widget will span several rows</span>
<span class="sd">        sticky=NSEW - if cell is larger on which sides will this</span>
<span class="sd">                      widget stick to the cell boundary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
              <span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="n">grid</span> <span class="o">=</span> <span class="n">configure</span> <span class="o">=</span> <span class="n">config</span> <span class="o">=</span> <span class="n">grid_configure</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="n">grid_bbox</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_bbox</span>
    <span class="n">columnconfigure</span> <span class="o">=</span> <span class="n">grid_columnconfigure</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_columnconfigure</span>

    <span class="k">def</span> <span class="nf">grid_forget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unmap this widget.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;forget&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="n">forget</span> <span class="o">=</span> <span class="n">grid_forget</span>

    <span class="k">def</span> <span class="nf">grid_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unmap this widget but remember the grid options.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">grid_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return information about the options</span>
<span class="sd">        for positioning this widget in a grid.&quot;&quot;&quot;</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">_splitdict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;grid&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">))</span>
        <span class="k">if</span> <span class="s1">&#39;in&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nametowidget</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;in&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">d</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">grid_info</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">grid_location</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_location</span>
    <span class="n">propagate</span> <span class="o">=</span> <span class="n">grid_propagate</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_propagate</span>
    <span class="n">rowconfigure</span> <span class="o">=</span> <span class="n">grid_rowconfigure</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_rowconfigure</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">grid_size</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_size</span>
    <span class="n">slaves</span> <span class="o">=</span> <span class="n">grid_slaves</span> <span class="o">=</span> <span class="n">Misc</span><span class="o">.</span><span class="n">grid_slaves</span>


<span class="k">class</span> <span class="nc">BaseWidget</span><span class="p">(</span><span class="n">Misc</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal class.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">cnf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function. Sets up information about children.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">_support_default_root</span><span class="p">:</span>
            <span class="k">global</span> <span class="n">_default_root</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">master</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">_default_root</span><span class="p">:</span>
                    <span class="n">_default_root</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
                <span class="n">master</span> <span class="o">=</span> <span class="n">_default_root</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">tk</span>
        <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">cnf</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
            <span class="k">del</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">master</span><span class="o">.</span><span class="n">_last_child_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">master</span><span class="o">.</span><span class="n">_last_child_ids</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">_last_child_ids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">master</span><span class="o">.</span><span class="n">_last_child_ids</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
            <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;!</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;!</span><span class="si">%s%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">if</span> <span class="n">master</span><span class="o">.</span><span class="n">_w</span><span class="o">==</span><span class="s1">&#39;.&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">_w</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">widgetName</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="n">kw</span><span class="o">=</span><span class="p">{},</span> <span class="n">extra</span><span class="o">=</span><span class="p">()):</span>
        <span class="sd">&quot;&quot;&quot;Construct a widget with the parent widget MASTER, a name WIDGETNAME</span>
<span class="sd">        and appropriate options.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">kw</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widgetName</span> <span class="o">=</span> <span class="n">widgetName</span>
        <span class="n">BaseWidget</span><span class="o">.</span><span class="n">_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">cnf</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_tclCommands</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cnf</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">type</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">cnf</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="n">widgetName</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span> <span class="o">+</span> <span class="n">extra</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
            <span class="n">k</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy this and all descendants widgets.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span> <span class="n">c</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;destroy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">]</span>
        <span class="n">Misc</span><span class="o">.</span><span class="n">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_do</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">()):</span>
        <span class="c1"># XXX Obsolete -- better use self.tk.call directly!</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Widget</span><span class="p">(</span><span class="n">BaseWidget</span><span class="p">,</span> <span class="n">Pack</span><span class="p">,</span> <span class="n">Place</span><span class="p">,</span> <span class="n">Grid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal class.</span>

<span class="sd">    Base class for a widget which can be positioned with the geometry managers</span>
<span class="sd">    Pack, Place or Grid.&quot;&quot;&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Toplevel</span><span class="p">(</span><span class="n">BaseWidget</span><span class="p">,</span> <span class="n">Wm</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Toplevel widget, e.g. for dialogs.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a toplevel widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: background, bd, bg, borderwidth, class,</span>
<span class="sd">        colormap, container, cursor, height, highlightbackground,</span>
<span class="sd">        highlightcolor, highlightthickness, menu, relief, screen, takefocus,</span>
<span class="sd">        use, visual, width.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">kw</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">for</span> <span class="n">wmkey</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;screen&#39;</span><span class="p">,</span> <span class="s1">&#39;class_&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;visual&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;colormap&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">wmkey</span> <span class="ow">in</span> <span class="n">cnf</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">cnf</span><span class="p">[</span><span class="n">wmkey</span><span class="p">]</span>
                <span class="c1"># TBD: a hack needed because some keys</span>
                <span class="c1"># are not valid as keyword arguments</span>
                <span class="k">if</span> <span class="n">wmkey</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span> <span class="n">opt</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">wmkey</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span> <span class="n">opt</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">wmkey</span>
                <span class="n">extra</span> <span class="o">=</span> <span class="n">extra</span> <span class="o">+</span> <span class="p">(</span><span class="n">opt</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
                <span class="k">del</span> <span class="n">cnf</span><span class="p">[</span><span class="n">wmkey</span><span class="p">]</span>
        <span class="n">BaseWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;toplevel&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="p">{},</span> <span class="n">extra</span><span class="p">)</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iconname</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">iconname</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Button widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a button widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            activebackground, activeforeground, anchor,</span>
<span class="sd">            background, bitmap, borderwidth, cursor,</span>
<span class="sd">            disabledforeground, font, foreground</span>
<span class="sd">            highlightbackground, highlightcolor,</span>
<span class="sd">            highlightthickness, image, justify,</span>
<span class="sd">            padx, pady, relief, repeatdelay,</span>
<span class="sd">            repeatinterval, takefocus, text,</span>
<span class="sd">            textvariable, underline, wraplength</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, compound, default, height,</span>
<span class="sd">            overrelief, state, width</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;button&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Flash the button.</span>

<span class="sd">        This is accomplished by redisplaying</span>
<span class="sd">        the button several times, alternating between active and</span>
<span class="sd">        normal colors. At the end of the flash the button is left</span>
<span class="sd">        in the same normal/active state as when the command was</span>
<span class="sd">        invoked. This command is ignored if the button&#39;s state is</span>
<span class="sd">        disabled.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;flash&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Invoke the command associated with the button.</span>

<span class="sd">        The return value is the return value from the command,</span>
<span class="sd">        or an empty string if there is no command associated with</span>
<span class="sd">        the button. This command is ignored if the button&#39;s state</span>
<span class="sd">        is disabled.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;invoke&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Canvas</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">XView</span><span class="p">,</span> <span class="n">YView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Canvas widget to display graphical elements like lines or text.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a canvas widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: background, bd, bg, borderwidth, closeenough,</span>
<span class="sd">        confine, cursor, height, highlightbackground, highlightcolor,</span>
<span class="sd">        highlightthickness, insertbackground, insertborderwidth,</span>
<span class="sd">        insertofftime, insertontime, insertwidth, offset, relief,</span>
<span class="sd">        scrollregion, selectbackground, selectborderwidth, selectforeground,</span>
<span class="sd">        state, takefocus, width, xscrollcommand, xscrollincrement,</span>
<span class="sd">        yscrollcommand, yscrollincrement.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;canvas&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;addtag&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_above</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items above TAGORID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;above&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_below</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items below TAGORID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;below&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_closest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">halo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to item which is closest to pixel at X, Y.</span>
<span class="sd">        If several match take the top-most.</span>
<span class="sd">        All items closer than HALO are considered overlapping (all are</span>
<span class="sd">        closests). If START is specified the next below this tag is taken.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;closest&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">halo</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_enclosed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items in the rectangle defined</span>
<span class="sd">        by X1,Y1,X2,Y2.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;enclosed&#39;</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_overlapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items which overlap the rectangle</span>
<span class="sd">        defined by X1,Y1,X2,Y2.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;overlapping&#39;</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addtag_withtag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newtag</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag NEWTAG to all items with TAGORID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addtag</span><span class="p">(</span><span class="n">newtag</span><span class="p">,</span> <span class="s1">&#39;withtag&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of X1,Y1,X2,Y2 coordinates for a rectangle</span>
<span class="sd">        which encloses all items with tags specified as arguments.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bbox&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">tag_unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">funcid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind for all items with TAGORID for event SEQUENCE  the</span>
<span class="sd">        function identified with FUNCID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">funcid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">funcid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind to all items with TAGORID at event SEQUENCE a call to function FUNC.</span>

<span class="sd">        An additional boolean parameter ADD specifies whether FUNC will be</span>
<span class="sd">        called additionally to the other bound function or whether it will</span>
<span class="sd">        replace the previous function. See bind for the return value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">),</span>
                  <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">canvasx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screenx</span><span class="p">,</span> <span class="n">gridspacing</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the canvas x coordinate of pixel position SCREENX rounded</span>
<span class="sd">        to nearest multiple of GRIDSPACING units.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;canvasx&#39;</span><span class="p">,</span> <span class="n">screenx</span><span class="p">,</span> <span class="n">gridspacing</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">canvasy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">screeny</span><span class="p">,</span> <span class="n">gridspacing</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the canvas y coordinate of pixel position SCREENY rounded</span>
<span class="sd">        to nearest multiple of GRIDSPACING units.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;canvasy&#39;</span><span class="p">,</span> <span class="n">screeny</span><span class="p">,</span> <span class="n">gridspacing</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of coordinates for the item given in ARGS.&quot;&quot;&quot;</span>
        <span class="c1"># XXX Should use _flatten on args</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                   <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;coords&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))]</span>

    <span class="k">def</span> <span class="nf">_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">itemType</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">):</span> <span class="c1"># Args: (val, val, ..., cnf={})</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">cnf</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cnf</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">itemType</span><span class="p">,</span>
            <span class="o">*</span><span class="p">(</span><span class="n">args</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))))</span>

    <span class="k">def</span> <span class="nf">create_arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create arc shaped region with coordinates x1,y1,x2,y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;arc&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_bitmap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create bitmap with coordinates x1,y1.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;bitmap&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create image item with coordinates x1,y1.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create line with coordinates x1,y1,...,xn,yn.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_oval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create oval with coordinates x1,y1,x2,y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;oval&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create polygon with coordinates x1,y1,...,xn,yn.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;polygon&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_rectangle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create rectangle with coordinates x1,y1,x2,y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;rectangle&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create text with coordinates x1,y1.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create window with coordinates x1,y1,x2,y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create</span><span class="p">(</span><span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dchars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete characters of text items identified by tag or id in ARGS (possibly</span>
<span class="sd">        several times) from FIRST to LAST character (including).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;dchars&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete items identified by all tag or ids contained in ARGS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dtag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete tag or id given as last arguments in ARGS from items</span>
<span class="sd">        identified by first argument in ARGS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;dtag&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;find&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">find_above</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return items above TAGORID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;above&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all items.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_below</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all items below TAGORID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;below&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_closest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">halo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return item which is closest to pixel at X, Y.</span>
<span class="sd">        If several match take the top-most.</span>
<span class="sd">        All items closer than HALO are considered overlapping (all are</span>
<span class="sd">        closest). If START is specified the next below this tag is taken.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;closest&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">halo</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_enclosed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all items in rectangle defined</span>
<span class="sd">        by X1,Y1,X2,Y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;enclosed&#39;</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_overlapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all items which overlap the rectangle</span>
<span class="sd">        defined by X1,Y1,X2,Y2.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;overlapping&#39;</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find_withtag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all items with TAGORID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;withtag&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">focus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set focus to the first item specified in ARGS.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;focus&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">gettags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return tags associated with the first item specified in ARGS.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;gettags&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">icursor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set cursor at position POS in the item identified by TAGORID.</span>
<span class="sd">        In ARGS TAGORID must be first.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;icursor&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return position of cursor as integer in item specified in ARGS.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert TEXT in item TAGORID at position POS. ARGS must</span>
<span class="sd">        be TAGORID POS TEXT.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">itemcget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the resource value for an OPTION for item TAGORID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;itemcget&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">tagOrId</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">option</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">itemconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure resources of an item TAGORID.</span>

<span class="sd">        The values for resources are specified as keyword</span>
<span class="sd">        arguments. To get an overview about</span>
<span class="sd">        the allowed keyword arguments call the method without arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;itemconfigure&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">itemconfig</span> <span class="o">=</span> <span class="n">itemconfigure</span>

    <span class="c1"># lower, tkraise/lift hide Misc.lower, Misc.tkraise/lift,</span>
    <span class="c1"># so the preferred name for them is tag_lower, tag_raise</span>
    <span class="c1"># (similar to tag_bind, and similar to the Text widget);</span>
    <span class="c1"># unfortunately can&#39;t delete the old ones yet (maybe in 1.6)</span>
    <span class="k">def</span> <span class="nf">tag_lower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Lower an item TAGORID given in ARGS</span>
<span class="sd">        (optional below another item).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;lower&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="n">lower</span> <span class="o">=</span> <span class="n">tag_lower</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move an item TAGORID given in ARGS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;move&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">moveto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Move the items given by TAGORID in the canvas coordinate</span>
<span class="sd">        space so that the first coordinate pair of the bottommost</span>
<span class="sd">        item with tag TAGORID is located at position (X,Y).</span>
<span class="sd">        X and Y may be the empty string, in which case the</span>
<span class="sd">        corresponding coordinate will be unchanged. All items matching</span>
<span class="sd">        TAGORID remain in the same positions relative to each other.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;moveto&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">postscript</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Print the contents of the canvas to a postscript</span>
<span class="sd">        file. Valid options: colormap, colormode, file, fontmap,</span>
<span class="sd">        height, pageanchor, pageheight, pagewidth, pagex, pagey,</span>
<span class="sd">        rotate, width, x, y.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;postscript&#39;</span><span class="p">)</span> <span class="o">+</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Raise an item TAGORID given in ARGS</span>
<span class="sd">        (optional above another item).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;raise&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="n">lift</span> <span class="o">=</span> <span class="n">tkraise</span> <span class="o">=</span> <span class="n">tag_raise</span>

    <span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scale item TAGORID with XORIGIN, YORIGIN, XSCALE, YSCALE.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scale&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remember the current X, Y coordinates.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_dragto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gain</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the view of the canvas to GAIN times the</span>
<span class="sd">        difference between X and Y and the coordinates given in</span>
<span class="sd">        scan_mark.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;dragto&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">gain</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the end of the selection near the cursor of an item TAGORID to index.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;adjust&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the selection if it is in this widget.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the fixed end of a selection in item TAGORID to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_item</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the item which has the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;item&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">select_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the variable end of a selection in item TAGORID to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the type of the item TAGORID.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">Checkbutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Checkbutton widget which is either in on- or off-state.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a checkbutton widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: activebackground, activeforeground, anchor,</span>
<span class="sd">        background, bd, bg, bitmap, borderwidth, command, cursor,</span>
<span class="sd">        disabledforeground, fg, font, foreground, height,</span>
<span class="sd">        highlightbackground, highlightcolor, highlightthickness, image,</span>
<span class="sd">        indicatoron, justify, offvalue, onvalue, padx, pady, relief,</span>
<span class="sd">        selectcolor, selectimage, state, takefocus, text, textvariable,</span>
<span class="sd">        underline, variable, width, wraplength.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;checkbutton&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deselect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put the button in off-state.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;deselect&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Flash the button.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;flash&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Toggle the button and invoke a command if given as resource.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;invoke&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put the button in on-state.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Toggle the button.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;toggle&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Entry</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">XView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entry widget which allows displaying simple text.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct an entry widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: background, bd, bg, borderwidth, cursor,</span>
<span class="sd">        exportselection, fg, font, foreground, highlightbackground,</span>
<span class="sd">        highlightcolor, highlightthickness, insertbackground,</span>
<span class="sd">        insertborderwidth, insertofftime, insertontime, insertwidth,</span>
<span class="sd">        invalidcommand, invcmd, justify, relief, selectbackground,</span>
<span class="sd">        selectborderwidth, selectforeground, show, state, takefocus,</span>
<span class="sd">        textvariable, validate, validatecommand, vcmd, width,</span>
<span class="sd">        xscrollcommand.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;entry&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete text from FIRST to LAST (not included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the text.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">icursor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert cursor at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;icursor&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return position of cursor.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert STRING at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remember the current X, Y coordinates.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_dragto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the view of the canvas to 10 times the</span>
<span class="sd">        difference between X and Y and the coordinates given in</span>
<span class="sd">        scan_mark.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;dragto&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the end of the selection near the cursor to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;adjust&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="n">select_adjust</span> <span class="o">=</span> <span class="n">selection_adjust</span>

    <span class="k">def</span> <span class="nf">selection_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the selection if it is in this widget.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">)</span>

    <span class="n">select_clear</span> <span class="o">=</span> <span class="n">selection_clear</span>

    <span class="k">def</span> <span class="nf">selection_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the fixed end of a selection to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="n">select_from</span> <span class="o">=</span> <span class="n">selection_from</span>

    <span class="k">def</span> <span class="nf">selection_present</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if there are characters selected in the entry, False</span>
<span class="sd">        otherwise.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;present&#39;</span><span class="p">))</span>

    <span class="n">select_present</span> <span class="o">=</span> <span class="n">selection_present</span>

    <span class="k">def</span> <span class="nf">selection_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the selection from START to END (not included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;range&#39;</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

    <span class="n">select_range</span> <span class="o">=</span> <span class="n">selection_range</span>

    <span class="k">def</span> <span class="nf">selection_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the variable end of a selection to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="n">select_to</span> <span class="o">=</span> <span class="n">selection_to</span>


<span class="k">class</span> <span class="nc">Frame</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Frame widget which may contain other widgets and can have a 3D border.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a frame widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: background, bd, bg, borderwidth, class,</span>
<span class="sd">        colormap, container, cursor, height, highlightbackground,</span>
<span class="sd">        highlightcolor, highlightthickness, relief, takefocus, visual, width.&quot;&quot;&quot;</span>
        <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;class_&#39;</span> <span class="ow">in</span> <span class="n">cnf</span><span class="p">:</span>
            <span class="n">extra</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;-class&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;class_&#39;</span><span class="p">])</span>
            <span class="k">del</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;class_&#39;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s1">&#39;class&#39;</span> <span class="ow">in</span> <span class="n">cnf</span><span class="p">:</span>
            <span class="n">extra</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;-class&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">])</span>
            <span class="k">del</span> <span class="n">cnf</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="p">{},</span> <span class="n">extra</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Label</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Label widget which can display text and bitmaps.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a label widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            activebackground, activeforeground, anchor,</span>
<span class="sd">            background, bitmap, borderwidth, cursor,</span>
<span class="sd">            disabledforeground, font, foreground,</span>
<span class="sd">            highlightbackground, highlightcolor,</span>
<span class="sd">            highlightthickness, image, justify,</span>
<span class="sd">            padx, pady, relief, takefocus, text,</span>
<span class="sd">            textvariable, underline, wraplength</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            height, state, width</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Listbox</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">XView</span><span class="p">,</span> <span class="n">YView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Listbox widget which can display a list of strings.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a listbox widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: background, bd, bg, borderwidth, cursor,</span>
<span class="sd">        exportselection, fg, font, foreground, height, highlightbackground,</span>
<span class="sd">        highlightcolor, highlightthickness, relief, selectbackground,</span>
<span class="sd">        selectborderwidth, selectforeground, selectmode, setgrid, takefocus,</span>
<span class="sd">        width, xscrollcommand, yscrollcommand, listvariable.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;listbox&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Activate item identified by INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;activate&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of X1,Y1,X2,Y2 coordinates for a rectangle</span>
<span class="sd">        which encloses the item identified by the given index.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bbox&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">curselection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the indices of currently selected item.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;curselection&#39;</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete items from FIRST to LAST (included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get list of items from FIRST to LAST (included).&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">last</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return index of item identified with INDEX.&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="o">*</span><span class="n">elements</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert ELEMENTS at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">+</span> <span class="n">elements</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">nearest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get index of item which is nearest to y coordinate Y.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">scan_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remember the current X, Y coordinates.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_dragto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the view of the listbox to 10 times the</span>
<span class="sd">        difference between X and Y and the coordinates given in</span>
<span class="sd">        scan_mark.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;dragto&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">see</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scroll such that INDEX is visible.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;see&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_anchor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the fixed end oft the selection to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;anchor&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="n">select_anchor</span> <span class="o">=</span> <span class="n">selection_anchor</span>

    <span class="k">def</span> <span class="nf">selection_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the selection from FIRST to LAST (included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span>
                 <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;clear&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>

    <span class="n">select_clear</span> <span class="o">=</span> <span class="n">selection_clear</span>

    <span class="k">def</span> <span class="nf">selection_includes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if INDEX is part of the selection.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;includes&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="n">select_includes</span> <span class="o">=</span> <span class="n">selection_includes</span>

    <span class="k">def</span> <span class="nf">selection_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the selection from FIRST to LAST (included) without</span>
<span class="sd">        changing the currently selected elements.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>

    <span class="n">select_set</span> <span class="o">=</span> <span class="n">selection_set</span>

    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the number of elements in the listbox.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">itemcget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the resource value for an ITEM and an OPTION.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;itemcget&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">option</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">itemconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure resources of an ITEM.</span>

<span class="sd">        The values for resources are specified as keyword arguments.</span>
<span class="sd">        To get an overview about the allowed keyword arguments</span>
<span class="sd">        call the method without arguments.</span>
<span class="sd">        Valid resource names: background, bg, foreground, fg,</span>
<span class="sd">        selectbackground, selectforeground.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;itemconfigure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">itemconfig</span> <span class="o">=</span> <span class="n">itemconfigure</span>


<span class="k">class</span> <span class="nc">Menu</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Menu widget which allows displaying menu bars, pull-down menus and pop-up menus.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct menu widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: activebackground, activeborderwidth,</span>
<span class="sd">        activeforeground, background, bd, bg, borderwidth, cursor,</span>
<span class="sd">        disabledforeground, fg, font, foreground, postcommand, relief,</span>
<span class="sd">        selectcolor, takefocus, tearoff, tearoffcommand, title, type.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;menu&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tk_popup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">entry</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Post the menu at position X,Y with entry ENTRY.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;tk_popup&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">entry</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Activate entry at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;activate&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">itemType</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">itemType</span><span class="p">)</span> <span class="o">+</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">add_cascade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add hierarchical menu item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add checkbutton menu item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;checkbutton&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add command menu item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_radiobutton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Addd radio menu item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;radiobutton&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_separator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add separator.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;separator&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">itemType</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">itemType</span><span class="p">)</span> <span class="o">+</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">insert_cascade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add hierarchical menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_checkbutton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add checkbutton menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;checkbutton&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add command menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_radiobutton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Addd radio menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;radiobutton&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert_separator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add separator at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;separator&#39;</span><span class="p">,</span> <span class="n">cnf</span> <span class="ow">or</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete menu items between INDEX1 and INDEX2 (included).&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index2</span> <span class="o">=</span> <span class="n">index1</span>

        <span class="n">num_index1</span><span class="p">,</span> <span class="n">num_index2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">index1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">num_index1</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">num_index2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">num_index1</span><span class="p">,</span> <span class="n">num_index2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_index1</span><span class="p">,</span> <span class="n">num_index2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;command&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entryconfig</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="n">c</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entrycget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;command&#39;</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">entrycget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the resource value of a menu item for OPTION at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;entrycget&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">option</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">entryconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure a menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;entryconfigure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">entryconfig</span> <span class="o">=</span> <span class="n">entryconfigure</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the index of a menu item identified by INDEX.&quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Invoke a menu item identified by INDEX and execute</span>
<span class="sd">        the associated command.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;invoke&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Display a menu at position X,Y.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the type of the menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unpost</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unmap a menu.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;unpost&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">xposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Return the x-position of the leftmost pixel of the menu item</span>
<span class="sd">        at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;xposition&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">yposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the y-position of the topmost pixel of the menu item at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;yposition&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">Menubutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Menubutton widget, obsolete since Tk8.0.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;menubutton&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Message</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Message widget to display multiline text. Obsolete since Label does it too.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Radiobutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Radiobutton widget which shows only one of several buttons in on-state.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a radiobutton widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: activebackground, activeforeground, anchor,</span>
<span class="sd">        background, bd, bg, bitmap, borderwidth, command, cursor,</span>
<span class="sd">        disabledforeground, fg, font, foreground, height,</span>
<span class="sd">        highlightbackground, highlightcolor, highlightthickness, image,</span>
<span class="sd">        indicatoron, justify, padx, pady, relief, selectcolor, selectimage,</span>
<span class="sd">        state, takefocus, text, textvariable, underline, value, variable,</span>
<span class="sd">        width, wraplength.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;radiobutton&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deselect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put the button in off-state.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;deselect&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Flash the button.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;flash&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Toggle the button and invoke a command if given as resource.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;invoke&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put the button in on-state.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;select&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Scale</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Scale widget which can display a numerical scale.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a scale widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: activebackground, background, bigincrement, bd,</span>
<span class="sd">        bg, borderwidth, command, cursor, digits, fg, font, foreground, from,</span>
<span class="sd">        highlightbackground, highlightcolor, highlightthickness, label,</span>
<span class="sd">        length, orient, relief, repeatdelay, repeatinterval, resolution,</span>
<span class="sd">        showvalue, sliderlength, sliderrelief, state, takefocus,</span>
<span class="sd">        tickinterval, to, troughcolor, variable, width.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;scale&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the current value as integer or float.&quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="n">TclError</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the value to VALUE.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">coords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple (X,Y) of the point along the centerline of the</span>
<span class="sd">        trough that corresponds to VALUE or the current value if None is</span>
<span class="sd">        given.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;coords&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return where the point X,Y lies. Valid return values are &quot;slider&quot;,</span>
<span class="sd">        &quot;though1&quot; and &quot;though2&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;identify&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Scrollbar</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Scrollbar widget which displays a slider at a certain position.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a scrollbar widget with the parent MASTER.</span>

<span class="sd">        Valid resource names: activebackground, activerelief,</span>
<span class="sd">        background, bd, bg, borderwidth, command, cursor,</span>
<span class="sd">        elementborderwidth, highlightbackground,</span>
<span class="sd">        highlightcolor, highlightthickness, jump, orient,</span>
<span class="sd">        relief, repeatdelay, repeatinterval, takefocus,</span>
<span class="sd">        troughcolor, width.&quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;scrollbar&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Marks the element indicated by index as active.</span>
<span class="sd">        The only index values understood by this method are &quot;arrow1&quot;,</span>
<span class="sd">        &quot;slider&quot;, or &quot;arrow2&quot;.  If any other value is specified then no</span>
<span class="sd">        element of the scrollbar will be active.  If index is not specified,</span>
<span class="sd">        the method returns the name of the element that is currently active,</span>
<span class="sd">        or None if no element is active.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;activate&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">delta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the fractional change of the scrollbar setting if it</span>
<span class="sd">        would be moved by DELTAX or DELTAY pixels.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delta&#39;</span><span class="p">,</span> <span class="n">deltax</span><span class="p">,</span> <span class="n">deltay</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the fractional value which corresponds to a slider</span>
<span class="sd">        position of X,Y.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getdouble</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;fraction&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the element under position X,Y as one of</span>
<span class="sd">        &quot;arrow1&quot;,&quot;slider&quot;,&quot;arrow2&quot; or &quot;&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;identify&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current fractional values (upper and lower end)</span>
<span class="sd">        of the slider position.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getdoubles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the fractional values of the slider position (upper and</span>
<span class="sd">        lower ends as value between 0 and 1).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Text</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">XView</span><span class="p">,</span> <span class="n">YView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Text widget which can display text in various forms.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a text widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            background, borderwidth, cursor,</span>
<span class="sd">            exportselection, font, foreground,</span>
<span class="sd">            highlightbackground, highlightcolor,</span>
<span class="sd">            highlightthickness, insertbackground,</span>
<span class="sd">            insertborderwidth, insertofftime,</span>
<span class="sd">            insertontime, insertwidth, padx, pady,</span>
<span class="sd">            relief, selectbackground,</span>
<span class="sd">            selectborderwidth, selectforeground,</span>
<span class="sd">            setgrid, takefocus,</span>
<span class="sd">            xscrollcommand, yscrollcommand,</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            autoseparators, height, maxundo,</span>
<span class="sd">            spacing1, spacing2, spacing3,</span>
<span class="sd">            state, tabs, undo, width, wrap,</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of (x,y,width,height) which gives the bounding</span>
<span class="sd">        box of the visible part of the character at the given index.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bbox&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">compare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">index2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return whether between index INDEX1 and index INDEX2 the</span>
<span class="sd">        relation OP is satisfied. OP is one of &lt;, &lt;=, ==, &gt;=, &gt;, or !=.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;compare&#39;</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">index2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Counts the number of relevant things between the two indices.</span>
<span class="sd">        If index1 is after index2, the result will be a negative number</span>
<span class="sd">        (and this holds for each of the possible options).</span>

<span class="sd">        The actual items which are counted depends on the options given by</span>
<span class="sd">        args. The result is a list of integers, one for the result of each</span>
<span class="sd">        counting option given. Valid counting options are &quot;chars&quot;,</span>
<span class="sd">        &quot;displaychars&quot;, &quot;displayindices&quot;, &quot;displaylines&quot;, &quot;indices&quot;,</span>
<span class="sd">        &quot;lines&quot;, &quot;xpixels&quot; and &quot;ypixels&quot;. There is an additional possible</span>
<span class="sd">        option &quot;update&quot;, which if given then all subsequent options ensure</span>
<span class="sd">        that any possible out of date information is recalculated.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">arg</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">arg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)]</span>
        <span class="n">args</span> <span class="o">+=</span> <span class="p">[</span><span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">boolean</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Turn on the internal consistency checks of the B-Tree inside the text</span>
<span class="sd">        widget according to BOOLEAN.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">boolean</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="n">boolean</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete the characters between INDEX1 and INDEX2 (not included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dlineinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return tuple (x,y,width,height,baseline) giving the bounding box</span>
<span class="sd">        and baseline position of the visible part of the line containing</span>
<span class="sd">        the character at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;dlineinfo&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the contents of the widget between index1 and index2.</span>

<span class="sd">        The type of contents returned in filtered based on the keyword</span>
<span class="sd">        parameters; if &#39;all&#39;, &#39;image&#39;, &#39;mark&#39;, &#39;tag&#39;, &#39;text&#39;, or &#39;window&#39; are</span>
<span class="sd">        given and true, then the corresponding items are returned. The result</span>
<span class="sd">        is a list of triples of the form (key, value, index). If none of the</span>
<span class="sd">        keywords are true then &#39;all&#39; is used by default.</span>

<span class="sd">        If the &#39;command&#39; argument is given, it is called once for each element</span>
<span class="sd">        of the list of triples, with the values of each triple serving as the</span>
<span class="sd">        arguments to the function. In this case the list is not returned.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">func_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">command</span><span class="p">:</span>
            <span class="c1"># Never call the dump command without the -command flag, since the</span>
            <span class="c1"># output could involve Tcl quoting and would be a pain to parse</span>
            <span class="c1"># right. Instead just set the command to build a list of triples</span>
            <span class="c1"># as if we had done the parsing.</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">def</span> <span class="nf">append_triple</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="n">result</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">append_triple</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">func_name</span> <span class="o">=</span> <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;-command&quot;</span><span class="p">,</span> <span class="n">command</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">kw</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index2</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;dump&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">func_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">func_name</span><span class="p">)</span>

    <span class="c1">## new in tk8.4</span>
    <span class="k">def</span> <span class="nf">edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal method</span>

<span class="sd">        This method controls the undo mechanism and</span>
<span class="sd">        the modified flag. The exact behavior of the</span>
<span class="sd">        command depends on the option argument that</span>
<span class="sd">        follows the edit argument. The following forms</span>
<span class="sd">        of the command are currently supported:</span>

<span class="sd">        edit_modified, edit_redo, edit_reset, edit_separator</span>
<span class="sd">        and edit_undo</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;edit&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">edit_modified</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get or Set the modified flag</span>

<span class="sd">        If arg is not specified, returns the modified</span>
<span class="sd">        flag of the widget. The insert, delete, edit undo and</span>
<span class="sd">        edit redo commands or the user can set or clear the</span>
<span class="sd">        modified flag. If boolean is specified, sets the</span>
<span class="sd">        modified flag of the widget to arg.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s2">&quot;modified&quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">edit_redo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Redo the last undone edit</span>

<span class="sd">        When the undo option is true, reapplies the last</span>
<span class="sd">        undone edits provided no other edits were done since</span>
<span class="sd">        then. Generates an error when the redo stack is empty.</span>
<span class="sd">        Does nothing when the undo option is false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s2">&quot;redo&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">edit_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clears the undo and redo stacks</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s2">&quot;reset&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">edit_separator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inserts a separator (boundary) on the undo stack.</span>

<span class="sd">        Does nothing when the undo option is false</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s2">&quot;separator&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">edit_undo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Undoes the last edit action</span>

<span class="sd">        If the undo option is true. An edit action is defined</span>
<span class="sd">        as all the insert and delete commands that are recorded</span>
<span class="sd">        on the undo stack in between two separators. Generates</span>
<span class="sd">        an error when the undo stack is empty. Does nothing</span>
<span class="sd">        when the undo option is false</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="s2">&quot;undo&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the text from INDEX1 to INDEX2 (not included).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">)</span>
    <span class="c1"># (Image commands are new in 8.0)</span>

    <span class="k">def</span> <span class="nf">image_cget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of OPTION of an embedded image at INDEX.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="n">option</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;_&quot;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;cget&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">image_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure an embedded image at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">image_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create an embedded image at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span>
                 <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">image_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all names of embedded images in this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the index in the form line.char for INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert CHARS before the characters at INDEX. An additional</span>
<span class="sd">        tag can be given in ARGS. Additional CHARS and tags can follow in ARGS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">chars</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_gravity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markName</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the gravity of a mark MARKNAME to DIRECTION (LEFT or RIGHT).</span>
<span class="sd">        Return the current value if None is given for DIRECTION.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;gravity&#39;</span><span class="p">,</span> <span class="n">markName</span><span class="p">,</span> <span class="n">direction</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">mark_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all mark names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">mark_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markName</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set mark MARKNAME before the character at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">markName</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_unset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">markNames</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete all marks in MARKNAMES.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;unset&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">markNames</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mark_next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the next mark after INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;next&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">mark_previous</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the name of the previous mark before INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="s1">&#39;previous&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">peer_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newPathName</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Creates a peer text widget with the given newPathName, and any</span>
<span class="sd">        optional standard configuration options. By default the peer will</span>
<span class="sd">        have the same start and end line as the parent widget, but</span>
<span class="sd">        these can be overridden with the standard configuration options.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;peer&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">newPathName</span><span class="p">,</span>
            <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">peer_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Returns a list of peers of this widget (this does not include</span>
<span class="sd">        the widget itself).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;peer&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="c1"># new in Tk 8.5</span>
        <span class="sd">&quot;&quot;&quot;Replaces the range of characters between index1 and index2 with</span>
<span class="sd">        the given characters and tags specified by args.</span>

<span class="sd">        See the method insert for some more information about args, and the</span>
<span class="sd">        method delete for information about the indices.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">,</span> <span class="n">chars</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remember the current X, Y coordinates.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;mark&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_dragto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the view of the text to 10 times the</span>
<span class="sd">        difference between X and Y and the coordinates given in</span>
<span class="sd">        scan_mark.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">,</span> <span class="s1">&#39;dragto&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">stopindex</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">forwards</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">backwards</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
           <span class="n">regexp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nocase</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">elide</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Search PATTERN beginning from INDEX until STOPINDEX.</span>
<span class="sd">        Return the index of the first character of a match or an</span>
<span class="sd">        empty string.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;search&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">forwards</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-forwards&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">backwards</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-backwards&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exact</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-exact&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">regexp</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-regexp&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nocase</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-nocase&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elide</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-elide&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">count</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;-count&#39;</span><span class="p">);</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pattern</span> <span class="ow">and</span> <span class="n">pattern</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
        <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stopindex</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stopindex</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">see</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scroll such that the character at INDEX is visible.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;see&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add tag TAGNAME to all characters between INDEX1 and index2 in ARGS.</span>
<span class="sd">        Additional pairs of indices may follow in ARGS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_unbind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">funcid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unbind for all characters with TAGNAME for event SEQUENCE  the</span>
<span class="sd">        function identified with FUNCID.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">funcid</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deletecommand</span><span class="p">(</span><span class="n">funcid</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind to all characters with TAGNAME at event SEQUENCE a call to function FUNC.</span>

<span class="sd">        An additional boolean parameter ADD specifies whether FUNC will be</span>
<span class="sd">        called additionally to the other bound function or whether it will</span>
<span class="sd">        replace the previous function. See bind for the return value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;bind&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">),</span>
                  <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_cget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of OPTION for tag TAGNAME.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">option</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;cget&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure a tag TAGNAME.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">tag_config</span> <span class="o">=</span> <span class="n">tag_configure</span>

    <span class="k">def</span> <span class="nf">tag_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">tagNames</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete all tags in TAGNAMES.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">tagNames</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_lower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">belowThis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the priority of tag TAGNAME such that it is lower</span>
<span class="sd">        than the priority of BELOWTHIS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">belowThis</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of all tag names.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tag_nextrange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of start and end index for the first sequence of</span>
<span class="sd">        characters between INDEX1 and INDEX2 which all have tag TAGNAME.</span>
<span class="sd">        The text is searched forward from INDEX1.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;nextrange&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tag_prevrange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of start and end index for the first sequence of</span>
<span class="sd">        characters between INDEX1 and INDEX2 which all have tag TAGNAME.</span>
<span class="sd">        The text is searched backwards from INDEX1.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;prevrange&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">aboveThis</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Change the priority of tag TAGNAME such that it is higher</span>
<span class="sd">        than the priority of ABOVETHIS.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;raise&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">aboveThis</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tag_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a list of ranges of text which have tag TAGNAME.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;ranges&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">tag_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove tag TAGNAME from all characters between INDEX1 and INDEX2.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;remove&#39;</span><span class="p">,</span> <span class="n">tagName</span><span class="p">,</span> <span class="n">index1</span><span class="p">,</span> <span class="n">index2</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">window_cget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of OPTION of an embedded window at INDEX.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">option</span>
        <span class="k">if</span> <span class="n">option</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span>
            <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="s1">&#39;cget&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">window_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure an embedded window at INDEX.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configure</span><span class="p">((</span><span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="n">window_config</span> <span class="o">=</span> <span class="n">window_configure</span>

    <span class="k">def</span> <span class="nf">window_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a window at INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
              <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
              <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">window_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return all names of embedded windows in this widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;window&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">yview_pickplace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">what</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Obsolete function, use see.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;yview&#39;</span><span class="p">,</span> <span class="s1">&#39;-pickplace&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">what</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">_setit</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Internal class. It wraps the command in the widget OptionMenu.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__var</span> <span class="o">=</span> <span class="n">var</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__callback</span> <span class="o">=</span> <span class="n">callback</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__callback</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__value</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">OptionMenu</span><span class="p">(</span><span class="n">Menubutton</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;OptionMenu which allows the user to select a value from a menu.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct an optionmenu widget with the parent MASTER, with</span>
<span class="sd">        the resource textvariable set to VARIABLE, the initially selected</span>
<span class="sd">        value VALUE, the other menu values VALUES and an additional</span>
<span class="sd">        keyword argument command.&quot;&quot;&quot;</span>
        <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;borderwidth&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;textvariable&quot;</span><span class="p">:</span> <span class="n">variable</span><span class="p">,</span>
              <span class="s2">&quot;indicatoron&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;relief&quot;</span><span class="p">:</span> <span class="n">RAISED</span><span class="p">,</span> <span class="s2">&quot;anchor&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span>
              <span class="s2">&quot;highlightthickness&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;menubutton&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widgetName</span> <span class="o">=</span> <span class="s1">&#39;tk_optionMenu&#39;</span>
        <span class="n">menu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__menu</span> <span class="o">=</span> <span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;menu&quot;</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menuname</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">_w</span>
        <span class="c1"># &#39;command&#39; is the only supported keyword</span>
        <span class="n">callback</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;command&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;command&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;command&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TclError</span><span class="p">(</span><span class="s1">&#39;unknown option -&#39;</span><span class="o">+</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)))</span>
        <span class="n">menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">value</span><span class="p">,</span>
                 <span class="n">command</span><span class="o">=</span><span class="n">_setit</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">menu</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">v</span><span class="p">,</span>
                     <span class="n">command</span><span class="o">=</span><span class="n">_setit</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
        <span class="bp">self</span><span class="p">[</span><span class="s2">&quot;menu&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">menu</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;menu&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__menu</span>
        <span class="k">return</span> <span class="n">Widget</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy this widget and the associated menu.&quot;&quot;&quot;</span>
        <span class="n">Menubutton</span><span class="o">.</span><span class="n">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__menu</span> <span class="o">=</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">Image</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Base class for images.&quot;&quot;&quot;</span>
    <span class="n">_last_id</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imgtype</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">master</span><span class="p">:</span>
            <span class="n">master</span> <span class="o">=</span> <span class="n">_default_root</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">master</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Too early to create image&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">master</span><span class="p">,</span> <span class="s1">&#39;tk&#39;</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">Image</span><span class="o">.</span><span class="n">_last_id</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pyimage</span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">_last_id</span><span class="p">,)</span> <span class="c1"># tk itself would use image&lt;x&gt;</span>
        <span class="k">if</span> <span class="n">kw</span> <span class="ow">and</span> <span class="n">cnf</span><span class="p">:</span> <span class="n">cnf</span> <span class="o">=</span> <span class="n">_cnfmerge</span><span class="p">((</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">kw</span><span class="p">:</span> <span class="n">cnf</span> <span class="o">=</span> <span class="n">kw</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cnf</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="n">options</span> <span class="o">=</span> <span class="n">options</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="n">imgtype</span><span class="p">,</span> <span class="n">name</span><span class="p">,)</span> <span class="o">+</span> <span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">TclError</span><span class="p">:</span>
                <span class="c1"># May happen if the root was destroyed</span>
                <span class="k">pass</span>

    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;configure&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Configure the image.&quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">_cnfmerge</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span> <span class="n">k</span> <span class="o">=</span> <span class="n">k</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                    <span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">res</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">res</span><span class="p">)</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">configure</span>

    <span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the height of the image.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the type of the image, e.g. &quot;photo&quot; or &quot;bitmap&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the width of the image.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">PhotoImage</span><span class="p">(</span><span class="n">Image</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Widget which can display images in PGM, PPM, GIF, PNG format.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create an image with NAME.</span>

<span class="sd">        Valid resource names: data, format, file, gamma, height, palette,</span>
<span class="sd">        width.&quot;&quot;&quot;</span>
        <span class="n">Image</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;photo&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">blank</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Display a transparent image.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;blank&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">cget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the value of OPTION.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;cget&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">option</span><span class="p">)</span>
    <span class="c1"># XXX config</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;cget&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">key</span><span class="p">)</span>
    <span class="c1"># XXX copy -from, -to, ...?</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a new PhotoImage with the same image as this widget.&quot;&quot;&quot;</span>
        <span class="n">destImage</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">destImage</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">destImage</span>

    <span class="k">def</span> <span class="nf">zoom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a new PhotoImage with the same image as this widget</span>
<span class="sd">        but zoom it with a factor of x in the X direction and y in the Y</span>
<span class="sd">        direction.  If y is not given, the default value is the same as x.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">destImage</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">y</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">y</span><span class="o">=</span><span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">destImage</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;-zoom&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">destImage</span>

    <span class="k">def</span> <span class="nf">subsample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a new PhotoImage based on the same image as this widget</span>
<span class="sd">        but use only every Xth or Yth pixel.  If y is not given, the</span>
<span class="sd">        default value is the same as x.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">destImage</span> <span class="o">=</span> <span class="n">PhotoImage</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">y</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">y</span><span class="o">=</span><span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">destImage</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;-subsample&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">destImage</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the color (red, green, blue) of the pixel at X,Y.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Put row formatted colors to image starting from</span>
<span class="sd">        position TO, e.g. image.put(&quot;{red green} {blue yellow}&quot;, to=(4,6))&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;put&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">to</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">to</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-to&#39;</span><span class="p">:</span>
                <span class="n">to</span> <span class="o">=</span> <span class="n">to</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-to&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">to</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="c1"># XXX read</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_coords</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Write image to file FILENAME in FORMAT starting from</span>
<span class="sd">        position FROM_COORDS.&quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;write&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">format</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-format&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">from_coords</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">args</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;-from&#39;</span><span class="p">,)</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">from_coords</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transparency_get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if the pixel at x,y is transparent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;transparency&#39;</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">transparency_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">boolean</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the transparency of the pixel at x,y.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;transparency&#39;</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">boolean</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">BitmapImage</span><span class="p">(</span><span class="n">Image</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Widget which can display images in XBM format.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a bitmap with NAME.</span>

<span class="sd">        Valid resource names: background, data, file, foreground, maskdata, maskfile.&quot;&quot;&quot;</span>
        <span class="n">Image</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;bitmap&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">image_names</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">image_types</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">_default_root</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;types&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">Spinbox</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">XView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;spinbox widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a spinbox widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            activebackground, background, borderwidth,</span>
<span class="sd">            cursor, exportselection, font, foreground,</span>
<span class="sd">            highlightbackground, highlightcolor,</span>
<span class="sd">            highlightthickness, insertbackground,</span>
<span class="sd">            insertborderwidth, insertofftime,</span>
<span class="sd">            insertontime, insertwidth, justify, relief,</span>
<span class="sd">            repeatdelay, repeatinterval,</span>
<span class="sd">            selectbackground, selectborderwidth</span>
<span class="sd">            selectforeground, takefocus, textvariable</span>
<span class="sd">            xscrollcommand.</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            buttonbackground, buttoncursor,</span>
<span class="sd">            buttondownrelief, buttonuprelief,</span>
<span class="sd">            command, disabledbackground,</span>
<span class="sd">            disabledforeground, format, from,</span>
<span class="sd">            invalidcommand, increment,</span>
<span class="sd">            readonlybackground, state, to,</span>
<span class="sd">            validate, validatecommand values,</span>
<span class="sd">            width, wrap,</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;spinbox&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of X1,Y1,X2,Y2 coordinates for a</span>
<span class="sd">        rectangle which encloses the character given by index.</span>

<span class="sd">        The first two elements of the list give the x and y</span>
<span class="sd">        coordinates of the upper-left corner of the screen</span>
<span class="sd">        area covered by the character (in pixels relative</span>
<span class="sd">        to the widget) and the last two elements give the</span>
<span class="sd">        width and height of the character, in pixels. The</span>
<span class="sd">        bounding box may refer to a region outside the</span>
<span class="sd">        visible area of the window.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;bbox&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete one or more elements of the spinbox.</span>

<span class="sd">        First is the index of the first character to delete,</span>
<span class="sd">        and last is the index of the character just after</span>
<span class="sd">        the last one to delete. If last isn&#39;t specified it</span>
<span class="sd">        defaults to first+1, i.e. a single character is</span>
<span class="sd">        deleted.  This command returns an empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the spinbox&#39;s string&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">icursor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Alter the position of the insertion cursor.</span>

<span class="sd">        The insertion cursor will be displayed just before</span>
<span class="sd">        the character given by index. Returns an empty string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;icursor&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the widget at position x, y</span>

<span class="sd">        Return value is one of: none, buttondown, buttonup, entry</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;identify&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the numerical index corresponding to index</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Insert string s at index</span>

<span class="sd">         Returns an empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Causes the specified element to be invoked</span>

<span class="sd">        The element could be buttondown or buttonup</span>
<span class="sd">        triggering the action associated with it.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;invoke&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;scan&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">scan_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Records x and the current view in the spinbox window;</span>

<span class="sd">        used in conjunction with later scan dragto commands.</span>
<span class="sd">        Typically this command is associated with a mouse button</span>
<span class="sd">        press in the widget. It returns an empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">scan_dragto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Compute the difference between the given x argument</span>
<span class="sd">        and the x argument to the last scan mark command</span>

<span class="sd">        It then adjusts the view left or right by 10 times the</span>
<span class="sd">        difference in x-coordinates. This command is typically</span>
<span class="sd">        associated with mouse motion events in the widget, to</span>
<span class="sd">        produce the effect of dragging the spinbox at high speed</span>
<span class="sd">        through the window. The return value is an empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="s2">&quot;dragto&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">selection_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Locate the end of the selection nearest to the character</span>
<span class="sd">        given by index,</span>

<span class="sd">        Then adjust that end of the selection to be at index</span>
<span class="sd">        (i.e including but not going beyond index). The other</span>
<span class="sd">        end of the selection is made the anchor point for future</span>
<span class="sd">        select to commands. If the selection isn&#39;t currently in</span>
<span class="sd">        the spinbox, then a new selection is created to include</span>
<span class="sd">        the characters between index and the most recent selection</span>
<span class="sd">        anchor point, inclusive.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="s2">&quot;adjust&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Clear the selection</span>

<span class="sd">        If the selection isn&#39;t in this widget then the</span>
<span class="sd">        command has no effect.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets or gets the currently selected element.</span>

<span class="sd">        If a spinbutton element is specified, it will be</span>
<span class="sd">        displayed depressed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;element&#39;</span><span class="p">,</span> <span class="n">element</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the fixed end of a selection to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="s1">&#39;from&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_present</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if there are characters selected in the spinbox, False</span>
<span class="sd">        otherwise.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;selection&#39;</span><span class="p">,</span> <span class="s1">&#39;present&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">selection_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the selection from START to END (not included).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="s1">&#39;range&#39;</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">selection_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set the variable end of a selection to INDEX.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="p">(</span><span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

<span class="c1">###########################################################################</span>


<span class="k">class</span> <span class="nc">LabelFrame</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;labelframe widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a labelframe widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            borderwidth, cursor, font, foreground,</span>
<span class="sd">            highlightbackground, highlightcolor,</span>
<span class="sd">            highlightthickness, padx, pady, relief,</span>
<span class="sd">            takefocus, text</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            background, class, colormap, container,</span>
<span class="sd">            height, labelanchor, labelwidget,</span>
<span class="sd">            visual, width</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;labelframe&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

<span class="c1">########################################################################</span>


<span class="k">class</span> <span class="nc">PanedWindow</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;panedwindow widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a panedwindow widget with the parent MASTER.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            background, borderwidth, cursor, height,</span>
<span class="sd">            orient, relief, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            handlepad, handlesize, opaqueresize,</span>
<span class="sd">            sashcursor, sashpad, sashrelief,</span>
<span class="sd">            sashwidth, showhandle,</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s1">&#39;panedwindow&#39;</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a child widget to the panedwindow in a new pane.</span>

<span class="sd">        The child argument is the name of the child widget</span>
<span class="sd">        followed by pairs of arguments that specify how to</span>
<span class="sd">        manage the windows. The possible options and values</span>
<span class="sd">        are the ones accepted by the paneconfigure method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove the pane containing child from the panedwindow</span>

<span class="sd">        All geometry management options for child will be forgotten.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;forget&#39;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>

    <span class="n">forget</span> <span class="o">=</span> <span class="n">remove</span>

    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Identify the panedwindow component at point x, y</span>

<span class="sd">        If the point is over a sash or a sash handle, the result</span>
<span class="sd">        is a two element list containing the index of the sash or</span>
<span class="sd">        handle, and a word indicating whether it is over a sash</span>
<span class="sd">        or a handle, such as {0 sash} or {2 handle}. If the point</span>
<span class="sd">        is over any other part of the panedwindow, the result is</span>
<span class="sd">        an empty list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;identify&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">proxy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;proxy&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">proxy_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the x and y pair of the most recent proxy location</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="p">(</span><span class="s2">&quot;coord&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">proxy_forget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove the proxy from the display.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="p">(</span><span class="s2">&quot;forget&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">proxy_place</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Place the proxy at the given x and y coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">proxy</span><span class="p">(</span><span class="s2">&quot;place&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;sash&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span><span class="p">))</span> <span class="ow">or</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">sash_coord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the current x and y pair for the sash given by index.</span>

<span class="sd">        Index must be an integer between 0 and 1 less than the</span>
<span class="sd">        number of panes in the panedwindow. The coordinates given are</span>
<span class="sd">        those of the top left corner of the region containing the sash.</span>
<span class="sd">        pathName sash dragto index x y This command computes the</span>
<span class="sd">        difference between the given coordinates and the coordinates</span>
<span class="sd">        given to the last sash coord command for the given sash. It then</span>
<span class="sd">        moves that sash the computed difference. The return value is the</span>
<span class="sd">        empty string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sash</span><span class="p">(</span><span class="s2">&quot;coord&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sash_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Records x and y for the sash given by index;</span>

<span class="sd">        Used in conjunction with later dragto commands to move the sash.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sash</span><span class="p">(</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">sash_place</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Place the sash given by index at the given coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sash</span><span class="p">(</span><span class="s2">&quot;place&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">panecget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query a management option for window.</span>

<span class="sd">        Option may be any value allowed by the paneconfigure subcommand</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;panecget&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">option</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">paneconfigure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the management options for window.</span>

<span class="sd">        If no option is specified, returns a list describing all</span>
<span class="sd">        of the available options for pathName.  If option is</span>
<span class="sd">        specified with no value, then the command returns a list</span>
<span class="sd">        describing the one named option (this list will be identical</span>
<span class="sd">        to the corresponding sublist of the value returned if no</span>
<span class="sd">        option is specified). If one or more option-value pairs are</span>
<span class="sd">        specified, then the command modifies the given widget</span>
<span class="sd">        option(s) to have the given value(s); in this case the</span>
<span class="sd">        command returns an empty string. The following options</span>
<span class="sd">        are supported:</span>

<span class="sd">        after window</span>
<span class="sd">            Insert the window after the window specified. window</span>
<span class="sd">            should be the name of a window already managed by pathName.</span>
<span class="sd">        before window</span>
<span class="sd">            Insert the window before the window specified. window</span>
<span class="sd">            should be the name of a window already managed by pathName.</span>
<span class="sd">        height size</span>
<span class="sd">            Specify a height for the window. The height will be the</span>
<span class="sd">            outer dimension of the window including its border, if</span>
<span class="sd">            any. If size is an empty string, or if -height is not</span>
<span class="sd">            specified, then the height requested internally by the</span>
<span class="sd">            window will be used initially; the height may later be</span>
<span class="sd">            adjusted by the movement of sashes in the panedwindow.</span>
<span class="sd">            Size may be any value accepted by Tk_GetPixels.</span>
<span class="sd">        minsize n</span>
<span class="sd">            Specifies that the size of the window cannot be made</span>
<span class="sd">            less than n. This constraint only affects the size of</span>
<span class="sd">            the widget in the paned dimension -- the x dimension</span>
<span class="sd">            for horizontal panedwindows, the y dimension for</span>
<span class="sd">            vertical panedwindows. May be any value accepted by</span>
<span class="sd">            Tk_GetPixels.</span>
<span class="sd">        padx n</span>
<span class="sd">            Specifies a non-negative value indicating how much</span>
<span class="sd">            extra space to leave on each side of the window in</span>
<span class="sd">            the X-direction. The value may have any of the forms</span>
<span class="sd">            accepted by Tk_GetPixels.</span>
<span class="sd">        pady n</span>
<span class="sd">            Specifies a non-negative value indicating how much</span>
<span class="sd">            extra space to leave on each side of the window in</span>
<span class="sd">            the Y-direction. The value may have any of the forms</span>
<span class="sd">            accepted by Tk_GetPixels.</span>
<span class="sd">        sticky style</span>
<span class="sd">            If a window&#39;s pane is larger than the requested</span>
<span class="sd">            dimensions of the window, this option may be used</span>
<span class="sd">            to position (or stretch) the window within its pane.</span>
<span class="sd">            Style is a string that contains zero or more of the</span>
<span class="sd">            characters n, s, e or w. The string can optionally</span>
<span class="sd">            contains spaces or commas, but they are ignored. Each</span>
<span class="sd">            letter refers to a side (north, south, east, or west)</span>
<span class="sd">            that the window will &quot;stick&quot; to. If both n and s</span>
<span class="sd">            (or e and w) are specified, the window will be</span>
<span class="sd">            stretched to fill the entire height (or width) of</span>
<span class="sd">            its cavity.</span>
<span class="sd">        width size</span>
<span class="sd">            Specify a width for the window. The width will be</span>
<span class="sd">            the outer dimension of the window including its</span>
<span class="sd">            border, if any. If size is an empty string, or</span>
<span class="sd">            if -width is not specified, then the width requested</span>
<span class="sd">            internally by the window will be used initially; the</span>
<span class="sd">            width may later be adjusted by the movement of sashes</span>
<span class="sd">            in the panedwindow. Size may be any value accepted by</span>
<span class="sd">            Tk_GetPixels.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cnf</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getconfigure</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;paneconfigure&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kw</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getconfigure1</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;paneconfigure&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="n">cnf</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;paneconfigure&#39;</span><span class="p">,</span> <span class="n">tagOrId</span><span class="p">)</span> <span class="o">+</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">_options</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="n">kw</span><span class="p">))</span>

    <span class="n">paneconfig</span> <span class="o">=</span> <span class="n">paneconfigure</span>

    <span class="k">def</span> <span class="nf">panes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns an ordered list of the child panes.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;panes&#39;</span><span class="p">))</span>

<span class="c1"># Test:</span>


<span class="k">def</span> <span class="nf">_test</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;This is Tcl/Tk version </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">TclVersion</span>
    <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">This should be a cedilla: </span><span class="se">\xe7</span><span class="s2">&quot;</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
    <span class="n">label</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
    <span class="n">test</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Click me!&quot;</span><span class="p">,</span>
              <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">:</span> <span class="n">root</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                  <span class="n">text</span><span class="o">=</span><span class="s2">&quot;[</span><span class="si">%s</span><span class="s2">]&quot;</span> <span class="o">%</span> <span class="n">root</span><span class="o">.</span><span class="n">test</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]))</span>
    <span class="n">test</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="n">test</span>
    <span class="n">quit</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;QUIT&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span>
    <span class="n">quit</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>
    <span class="c1"># The following three commands are needed so the window pops</span>
    <span class="c1"># up on top on Windows...</span>
    <span class="n">root</span><span class="o">.</span><span class="n">iconify</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">_test</span><span class="p">()</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021, Matthias Cuntz

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>