

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tkinter.ttk &mdash; ncvue 2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> ncvue
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    <p class="link caption"><span class="link caption-text">Documentation</span></p>
    
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">ncvue - A GUI to view netCDF files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../readme.html#about-ncvue">About ncvue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../readme.html#quick-usage-guide">Quick usage guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../readme.html#general-layout">General layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../readme.html#map-panel">Map panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../readme.html#scatter-line-panel">Scatter/Line panel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../readme.html#installation-not-yet-on-pypi">Installation - NOT YET ON PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../readme.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../package.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../package.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvcontour.html">ncvue.ncvcontour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvmain.html">ncvue.ncvmain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvmap.html">ncvue.ncvmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvmethods.html">ncvue.ncvmethods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvscatter.html">ncvue.ncvscatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvue.html">ncvue.ncvue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvutils.html">ncvue.ncvutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ncvwidgets.html">ncvue.ncvwidgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../version.html">ncvue.version</a></li>
</ul>
</li>
</ul>

            
          
    <br />
    <p class="link caption"><span class="link caption-text">ncvue Links</span></p>
    <a href="https://github.com/mcuntz/ncvue">ncvue @ GitHub</a>
    <a href="https://zenodo.org/record/3620909">ncvue Zenodo DOI</a>
    <a href="https://pypi.org/project/ncvue">ncvue @ PyPI</a>
    <br />
    <br />
    <a href="genindex.html">Index</a>
    <a href="index.html">Sitemap</a>
  
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ncvue</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../tkinter.html">tkinter</a> &raquo;</li>
        
      <li>tkinter.ttk</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for tkinter.ttk</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Ttk wrapper.</span>

<span class="sd">This module provides classes to allow using Tk themed widget set.</span>

<span class="sd">Ttk is based on a revised and enhanced version of</span>
<span class="sd">TIP #48 (http://tip.tcl.tk/48) specified style engine.</span>

<span class="sd">Its basic idea is to separate, to the extent possible, the code</span>
<span class="sd">implementing a widget&#39;s behavior from the code implementing its</span>
<span class="sd">appearance. Widget class bindings are primarily responsible for</span>
<span class="sd">maintaining the widget state and invoking callbacks, all aspects</span>
<span class="sd">of the widgets appearance lies at Themes.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.3.1&quot;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Guilherme Polo &lt;ggpolo@gmail.com&gt;&quot;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Button&quot;</span><span class="p">,</span> <span class="s2">&quot;Checkbutton&quot;</span><span class="p">,</span> <span class="s2">&quot;Combobox&quot;</span><span class="p">,</span> <span class="s2">&quot;Entry&quot;</span><span class="p">,</span> <span class="s2">&quot;Frame&quot;</span><span class="p">,</span> <span class="s2">&quot;Label&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Labelframe&quot;</span><span class="p">,</span> <span class="s2">&quot;LabelFrame&quot;</span><span class="p">,</span> <span class="s2">&quot;Menubutton&quot;</span><span class="p">,</span> <span class="s2">&quot;Notebook&quot;</span><span class="p">,</span> <span class="s2">&quot;Panedwindow&quot;</span><span class="p">,</span>
           <span class="s2">&quot;PanedWindow&quot;</span><span class="p">,</span> <span class="s2">&quot;Progressbar&quot;</span><span class="p">,</span> <span class="s2">&quot;Radiobutton&quot;</span><span class="p">,</span> <span class="s2">&quot;Scale&quot;</span><span class="p">,</span> <span class="s2">&quot;Scrollbar&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Separator&quot;</span><span class="p">,</span> <span class="s2">&quot;Sizegrip&quot;</span><span class="p">,</span> <span class="s2">&quot;Spinbox&quot;</span><span class="p">,</span> <span class="s2">&quot;Style&quot;</span><span class="p">,</span> <span class="s2">&quot;Treeview&quot;</span><span class="p">,</span>
           <span class="c1"># Extensions</span>
           <span class="s2">&quot;LabeledScale&quot;</span><span class="p">,</span> <span class="s2">&quot;OptionMenu&quot;</span><span class="p">,</span>
           <span class="c1"># functions</span>
           <span class="s2">&quot;tclobjs_to_py&quot;</span><span class="p">,</span> <span class="s2">&quot;setup_master&quot;</span><span class="p">]</span>

<span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">_flatten</span><span class="p">,</span> <span class="n">_join</span><span class="p">,</span> <span class="n">_stringify</span><span class="p">,</span> <span class="n">_splitdict</span>

<span class="c1"># Verify if Tk is new enough to not need the Tile package</span>
<span class="n">_REQUIRE_TILE</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">TkVersion</span> <span class="o">&lt;</span> <span class="mf">8.5</span> <span class="k">else</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">_load_tile</span><span class="p">(</span><span class="n">master</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">_REQUIRE_TILE</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">os</span>
        <span class="n">tilelib</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;TILE_LIBRARY&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tilelib</span><span class="p">:</span>
            <span class="c1"># append custom tile path to the list of directories that</span>
            <span class="c1"># Tcl uses when attempting to resolve packages with the package</span>
            <span class="c1"># command</span>
            <span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span>
                    <span class="s1">&#39;global auto_path; &#39;</span>
                    <span class="s1">&#39;lappend auto_path {</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">tilelib</span><span class="p">)</span>

        <span class="n">master</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;package require tile&#39;</span><span class="p">)</span> <span class="c1"># TclError may be raised here</span>
        <span class="n">master</span><span class="o">.</span><span class="n">_tile_loaded</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">_format_optvalue</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">script</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Internal function.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">script</span><span class="p">:</span>
        <span class="c1"># if caller passes a Tcl script to tk.call, all the values need to</span>
        <span class="c1"># be grouped into words (arguments to a command in Tcl dialect)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_stringify</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_join</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_format_optdict</span><span class="p">(</span><span class="n">optdict</span><span class="p">,</span> <span class="n">script</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats optdict to a tuple to pass it to tk.call.</span>

<span class="sd">    E.g. (script=False):</span>
<span class="sd">      {&#39;foreground&#39;: &#39;blue&#39;, &#39;padding&#39;: [1, 2, 3, 4]} returns:</span>
<span class="sd">      (&#39;-foreground&#39;, &#39;blue&#39;, &#39;-padding&#39;, &#39;1 2 3 4&#39;)&quot;&quot;&quot;</span>

    <span class="n">opts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">optdict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ignore</span> <span class="ow">or</span> <span class="n">opt</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignore</span><span class="p">:</span>
            <span class="n">opts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">opt</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">opts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_format_optvalue</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">script</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_mapdict_values</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="c1"># each value in mapdict is expected to be a sequence, where each item</span>
    <span class="c1"># is another sequence containing a state (or several) and a value</span>
    <span class="c1"># E.g. (script=False):</span>
    <span class="c1">#   [(&#39;active&#39;, &#39;selected&#39;, &#39;grey&#39;), (&#39;focus&#39;, [1, 2, 3, 4])]</span>
    <span class="c1">#   returns:</span>
    <span class="c1">#   [&#39;active selected&#39;, &#39;grey&#39;, &#39;focus&#39;, [1, 2, 3, 4]]</span>
    <span class="n">opt_val</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="o">*</span><span class="n">state</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="c1"># hacks for backward compatibility</span>
        <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># raise IndexError if empty</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># if it is empty (something that evaluates to False), then</span>
            <span class="c1"># format it to Tcl code to denote the &quot;normal&quot; state</span>
            <span class="n">state</span> <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># group multiple states</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="c1"># raise TypeError if not str</span>
        <span class="n">opt_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">opt_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">opt_val</span>

<span class="k">def</span> <span class="nf">_format_mapdict</span><span class="p">(</span><span class="n">mapdict</span><span class="p">,</span> <span class="n">script</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats mapdict to pass it to tk.call.</span>

<span class="sd">    E.g. (script=False):</span>
<span class="sd">      {&#39;expand&#39;: [(&#39;active&#39;, &#39;selected&#39;, &#39;grey&#39;), (&#39;focus&#39;, [1, 2, 3, 4])]}</span>

<span class="sd">      returns:</span>

<span class="sd">      (&#39;-expand&#39;, &#39;{active selected} grey focus {1, 2, 3, 4}&#39;)&quot;&quot;&quot;</span>

    <span class="n">opts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">opt</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">mapdict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">opts</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="s2">&quot;-</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">opt</span><span class="p">,</span>
                     <span class="n">_format_optvalue</span><span class="p">(</span><span class="n">_mapdict_values</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">script</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">_flatten</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_format_elemcreate</span><span class="p">(</span><span class="n">etype</span><span class="p">,</span> <span class="n">script</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats args and kw according to the given element factory etype.&quot;&quot;&quot;</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">opts</span> <span class="o">=</span> <span class="p">()</span>
    <span class="k">if</span> <span class="n">etype</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;vsapi&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">etype</span> <span class="o">==</span> <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="c1"># define an element based on an image</span>
            <span class="c1"># first arg should be the default image name</span>
            <span class="n">iname</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># next args, if any, are statespec/value pairs which is almost</span>
            <span class="c1"># a mapdict, but we just need the value</span>
            <span class="n">imagespec</span> <span class="o">=</span> <span class="n">_join</span><span class="p">(</span><span class="n">_mapdict_values</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
            <span class="n">spec</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">iname</span><span class="p">,</span> <span class="n">imagespec</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># define an element whose visual appearance is drawn using the</span>
            <span class="c1"># Microsoft Visual Styles API which is responsible for the</span>
            <span class="c1"># themed styles on Windows XP and Vista.</span>
            <span class="c1"># Availability: Tk 8.6, Windows XP and Vista.</span>
            <span class="n">class_name</span><span class="p">,</span> <span class="n">part_id</span> <span class="o">=</span> <span class="n">args</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">statemap</span> <span class="o">=</span> <span class="n">_join</span><span class="p">(</span><span class="n">_mapdict_values</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]))</span>
            <span class="n">spec</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">part_id</span><span class="p">,</span> <span class="n">statemap</span><span class="p">)</span>

        <span class="n">opts</span> <span class="o">=</span> <span class="n">_format_optdict</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">etype</span> <span class="o">==</span> <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="c1"># clone an element</span>
        <span class="c1"># it expects a themename and optionally an element to clone from,</span>
        <span class="c1"># otherwise it will clone {} (empty element)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># theme name</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># elementfrom specified</span>
            <span class="n">opts</span> <span class="o">=</span> <span class="p">(</span><span class="n">_format_optvalue</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">script</span><span class="p">),)</span>

    <span class="k">if</span> <span class="n">script</span><span class="p">:</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="s1">&#39;{</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">spec</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">opts</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">spec</span><span class="p">,</span> <span class="n">opts</span>

<span class="k">def</span> <span class="nf">_format_layoutlist</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">indent_size</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats a layout list so we can pass the result to ttk::style</span>
<span class="sd">    layout and ttk::style settings. Note that the layout doesn&#39;t have to</span>
<span class="sd">    be a list necessarily.</span>

<span class="sd">    E.g.:</span>
<span class="sd">      [(&quot;Menubutton.background&quot;, None),</span>
<span class="sd">       (&quot;Menubutton.button&quot;, {&quot;children&quot;:</span>
<span class="sd">           [(&quot;Menubutton.focus&quot;, {&quot;children&quot;:</span>
<span class="sd">               [(&quot;Menubutton.padding&quot;, {&quot;children&quot;:</span>
<span class="sd">                [(&quot;Menubutton.label&quot;, {&quot;side&quot;: &quot;left&quot;, &quot;expand&quot;: 1})]</span>
<span class="sd">               })]</span>
<span class="sd">           })]</span>
<span class="sd">       }),</span>
<span class="sd">       (&quot;Menubutton.indicator&quot;, {&quot;side&quot;: &quot;right&quot;})</span>
<span class="sd">      ]</span>

<span class="sd">      returns:</span>

<span class="sd">      Menubutton.background</span>
<span class="sd">      Menubutton.button -children {</span>
<span class="sd">        Menubutton.focus -children {</span>
<span class="sd">          Menubutton.padding -children {</span>
<span class="sd">            Menubutton.label -side left -expand 1</span>
<span class="sd">          }</span>
<span class="sd">        }</span>
<span class="sd">      }</span>
<span class="sd">      Menubutton.indicator -side right&quot;&quot;&quot;</span>
    <span class="n">script</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">layout_elem</span> <span class="ow">in</span> <span class="n">layout</span><span class="p">:</span>
        <span class="n">elem</span><span class="p">,</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">layout_elem</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="n">opts</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">fopts</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_format_optdict</span><span class="p">(</span><span class="n">opts</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;children&quot;</span><span class="p">,)))</span>
        <span class="n">head</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s%s%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="n">indent</span><span class="p">,</span> <span class="n">elem</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot; </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">fopts</span><span class="p">)</span> <span class="k">if</span> <span class="n">fopts</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">opts</span><span class="p">:</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span> <span class="o">+</span> <span class="s2">&quot; -children {&quot;</span><span class="p">)</span>
            <span class="n">indent</span> <span class="o">+=</span> <span class="n">indent_size</span>
            <span class="n">newscript</span><span class="p">,</span> <span class="n">indent</span> <span class="o">=</span> <span class="n">_format_layoutlist</span><span class="p">(</span><span class="n">opts</span><span class="p">[</span><span class="s1">&#39;children&#39;</span><span class="p">],</span> <span class="n">indent</span><span class="p">,</span>
                <span class="n">indent_size</span><span class="p">)</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newscript</span><span class="p">)</span>
            <span class="n">indent</span> <span class="o">-=</span> <span class="n">indent_size</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="n">indent</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">head</span><span class="p">)</span>

    <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">script</span><span class="p">),</span> <span class="n">indent</span>

<span class="k">def</span> <span class="nf">_script_from_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns an appropriate script, based on settings, according to</span>
<span class="sd">    theme_settings definition to be used by theme_settings and</span>
<span class="sd">    theme_create.&quot;&quot;&quot;</span>
    <span class="n">script</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># a script will be generated according to settings passed, which</span>
    <span class="c1"># will then be evaluated by Tcl</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span> <span class="ow">in</span> <span class="n">settings</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># will format specific keys according to Tcl code</span>
        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;configure&#39;</span><span class="p">):</span> <span class="c1"># format &#39;configure&#39;</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_format_optdict</span><span class="p">(</span><span class="n">opts</span><span class="p">[</span><span class="s1">&#39;configure&#39;</span><span class="p">],</span> <span class="kc">True</span><span class="p">))</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;ttk::style configure </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">):</span> <span class="c1"># format &#39;map&#39;</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_format_mapdict</span><span class="p">(</span><span class="n">opts</span><span class="p">[</span><span class="s1">&#39;map&#39;</span><span class="p">],</span> <span class="kc">True</span><span class="p">))</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;ttk::style map </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">;&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>

        <span class="k">if</span> <span class="s1">&#39;layout&#39;</span> <span class="ow">in</span> <span class="n">opts</span><span class="p">:</span> <span class="c1"># format &#39;layout&#39; which may be empty</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">opts</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">]:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;null&#39;</span> <span class="c1"># could be any other word, but this one makes sense</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">s</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">_format_layoutlist</span><span class="p">(</span><span class="n">opts</span><span class="p">[</span><span class="s1">&#39;layout&#39;</span><span class="p">])</span>
            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;ttk::style layout </span><span class="si">%s</span><span class="s2"> {</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="s2">}&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">opts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;element create&#39;</span><span class="p">):</span> <span class="c1"># format &#39;element create&#39;</span>
            <span class="n">eopts</span> <span class="o">=</span> <span class="n">opts</span><span class="p">[</span><span class="s1">&#39;element create&#39;</span><span class="p">]</span>
            <span class="n">etype</span> <span class="o">=</span> <span class="n">eopts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># find where args end, and where kwargs start</span>
            <span class="n">argc</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># etype was the first one</span>
            <span class="k">while</span> <span class="n">argc</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">eopts</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">eopts</span><span class="p">[</span><span class="n">argc</span><span class="p">],</span> <span class="s1">&#39;items&#39;</span><span class="p">):</span>
                <span class="n">argc</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">elemargs</span> <span class="o">=</span> <span class="n">eopts</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">argc</span><span class="p">]</span>
            <span class="n">elemkw</span> <span class="o">=</span> <span class="n">eopts</span><span class="p">[</span><span class="n">argc</span><span class="p">]</span> <span class="k">if</span> <span class="n">argc</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">eopts</span><span class="p">)</span> <span class="ow">and</span> <span class="n">eopts</span><span class="p">[</span><span class="n">argc</span><span class="p">]</span> <span class="k">else</span> <span class="p">{}</span>
            <span class="n">spec</span><span class="p">,</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">_format_elemcreate</span><span class="p">(</span><span class="n">etype</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">elemargs</span><span class="p">,</span> <span class="o">**</span><span class="n">elemkw</span><span class="p">)</span>

            <span class="n">script</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;ttk::style element create </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">etype</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">opts</span><span class="p">))</span>

    <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_list_from_statespec</span><span class="p">(</span><span class="n">stuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Construct a list from the given statespec tuple according to the</span>
<span class="sd">    accepted statespec accepted by _format_mapdict.&quot;&quot;&quot;</span>
    <span class="n">nval</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">stuple</span><span class="p">:</span>
        <span class="n">typename</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="s1">&#39;typename&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">typename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="c1"># this is a Tcl object</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">typename</span> <span class="o">==</span> <span class="s1">&#39;StateSpec&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">nval</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">nval</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">_flatten</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span> <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">it</span><span class="p">)]</span>

<span class="k">def</span> <span class="nf">_list_from_layouttuple</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">ltuple</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Construct a list from the tuple returned by ttk::layout, this is</span>
<span class="sd">    somewhat the reverse of _format_layoutlist.&quot;&quot;&quot;</span>
    <span class="n">ltuple</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">ltuple</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">indx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">indx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ltuple</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">ltuple</span><span class="p">[</span><span class="n">indx</span><span class="p">]</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">))</span>
        <span class="n">indx</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="n">indx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">ltuple</span><span class="p">):</span> <span class="c1"># grab name&#39;s options</span>
            <span class="n">opt</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">ltuple</span><span class="p">[</span><span class="n">indx</span><span class="p">:</span><span class="n">indx</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">opt</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">):</span> <span class="c1"># found next name</span>
                <span class="k">break</span>

            <span class="n">opt</span> <span class="o">=</span> <span class="n">opt</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c1"># remove the &#39;-&#39; from the option</span>
            <span class="n">indx</span> <span class="o">+=</span> <span class="mi">2</span>

            <span class="k">if</span> <span class="n">opt</span> <span class="o">==</span> <span class="s1">&#39;children&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">_list_from_layouttuple</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>

            <span class="n">opts</span><span class="p">[</span><span class="n">opt</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">return</span> <span class="n">res</span>

<span class="k">def</span> <span class="nf">_val_or_dict</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Format options then call Tk command with args and options and return</span>
<span class="sd">    the appropriate result.</span>

<span class="sd">    If no option is specified, a dict is returned. If an option is</span>
<span class="sd">    specified with the None value, the value for that option is returned.</span>
<span class="sd">    Otherwise, the function just sets the passed options and the caller</span>
<span class="sd">    shouldn&#39;t be expecting a return value anyway.&quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">_format_optdict</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">args</span> <span class="o">+</span> <span class="n">options</span><span class="p">))</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">options</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">:</span> <span class="c1"># option specified without a value, return its value</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">return</span> <span class="n">_splitdict</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">conv</span><span class="o">=</span><span class="n">_tclobj_to_py</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_convert_stringval</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts a value to, hopefully, a more appropriate Python object.&quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">_to_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span>

<span class="k">def</span> <span class="nf">_tclobj_to_py</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return value converted from Tcl object to Python object.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">val</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="s1">&#39;__len__&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;typename&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;StateSpec&#39;</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">_list_from_statespec</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">_convert_stringval</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>

    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="s1">&#39;typename&#39;</span><span class="p">):</span> <span class="c1"># some other (single) Tcl object</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">_convert_stringval</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">val</span>

<span class="k">def</span> <span class="nf">tclobjs_to_py</span><span class="p">(</span><span class="n">adict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns adict with its values converted from Tcl objects to Python</span>
<span class="sd">    objects.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">opt</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">adict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">adict</span><span class="p">[</span><span class="n">opt</span><span class="p">]</span> <span class="o">=</span> <span class="n">_tclobj_to_py</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">adict</span>

<span class="k">def</span> <span class="nf">setup_master</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;If master is not None, itself is returned. If master is None,</span>
<span class="sd">    the default master is returned if there is one, otherwise a new</span>
<span class="sd">    master is created and returned.</span>

<span class="sd">    If it is not allowed to use the default root and master is None,</span>
<span class="sd">    RuntimeError is raised.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">master</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">_support_default_root</span><span class="p">:</span>
            <span class="n">master</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">_default_root</span> <span class="ow">or</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;No master specified and tkinter is &quot;</span>
                    <span class="s2">&quot;configured to not support default root&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">master</span>


<span class="k">class</span> <span class="nc">Style</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Manipulate style database.&quot;&quot;&quot;</span>

    <span class="n">_name</span> <span class="o">=</span> <span class="s2">&quot;ttk::style&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">master</span> <span class="o">=</span> <span class="n">setup_master</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">master</span><span class="p">,</span> <span class="s1">&#39;_tile_loaded&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="c1"># Load tile now, if needed</span>
            <span class="n">_load_tile</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">tk</span>


    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">query_opt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or sets the default value of the specified option(s) in</span>
<span class="sd">        style.</span>

<span class="sd">        Each key in kw is an option and each value is either a string or</span>
<span class="sd">        a sequence identifying the value for that option.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">query_opt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">query_opt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;configure&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">or</span> <span class="n">query_opt</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>


    <span class="k">def</span> <span class="nf">map</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">query_opt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or sets dynamic values of the specified option(s) in</span>
<span class="sd">        style.</span>

<span class="sd">        Each key in kw is an option and each value should be a list or a</span>
<span class="sd">        tuple (usually) containing statespecs grouped in tuples, or list,</span>
<span class="sd">        or something else of your preference. A statespec is compound of</span>
<span class="sd">        one or more states and then a value.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">query_opt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_list_from_statespec</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;map&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="s1">&#39;-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">query_opt</span><span class="p">)))</span>

        <span class="k">return</span> <span class="n">_splitdict</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;map&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="o">*</span><span class="n">_format_mapdict</span><span class="p">(</span><span class="n">kw</span><span class="p">)),</span>
            <span class="n">conv</span><span class="o">=</span><span class="n">_tclobj_to_py</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the value specified for option in style.</span>

<span class="sd">        If state is specified it is expected to be a sequence of one</span>
<span class="sd">        or more states. If the default argument is set, it is used as</span>
<span class="sd">        a fallback value in case no specification for option is found.&quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">if</span> <span class="n">state</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;lookup&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="s1">&#39;-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">option</span><span class="p">,</span>
            <span class="n">state</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">layoutspec</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define the widget layout for given style. If layoutspec is</span>
<span class="sd">        omitted, return the layout specification for given style.</span>

<span class="sd">        layoutspec is expected to be a list or an object different than</span>
<span class="sd">        None that evaluates to False if you want to &quot;turn off&quot; that style.</span>
<span class="sd">        If it is a list (or tuple, or something else), each item should be</span>
<span class="sd">        a tuple where the first item is the layout name and the second item</span>
<span class="sd">        should have the format described below:</span>

<span class="sd">        LAYOUTS</span>

<span class="sd">            A layout can contain the value None, if takes no options, or</span>
<span class="sd">            a dict of options specifying how to arrange the element.</span>
<span class="sd">            The layout mechanism uses a simplified version of the pack</span>
<span class="sd">            geometry manager: given an initial cavity, each element is</span>
<span class="sd">            allocated a parcel. Valid options/values are:</span>

<span class="sd">                side: whichside</span>
<span class="sd">                    Specifies which side of the cavity to place the</span>
<span class="sd">                    element; one of top, right, bottom or left. If</span>
<span class="sd">                    omitted, the element occupies the entire cavity.</span>

<span class="sd">                sticky: nswe</span>
<span class="sd">                    Specifies where the element is placed inside its</span>
<span class="sd">                    allocated parcel.</span>

<span class="sd">                children: [sublayout... ]</span>
<span class="sd">                    Specifies a list of elements to place inside the</span>
<span class="sd">                    element. Each element is a tuple (or other sequence)</span>
<span class="sd">                    where the first item is the layout name, and the other</span>
<span class="sd">                    is a LAYOUT.&quot;&quot;&quot;</span>
        <span class="n">lspec</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">layoutspec</span><span class="p">:</span>
            <span class="n">lspec</span> <span class="o">=</span> <span class="n">_format_layoutlist</span><span class="p">(</span><span class="n">layoutspec</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">layoutspec</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># will disable the layout ({}, &#39;&#39;, etc)</span>
            <span class="n">lspec</span> <span class="o">=</span> <span class="s2">&quot;null&quot;</span> <span class="c1"># could be any other word, but this may make sense</span>
                           <span class="c1"># when calling layout(style) later</span>

        <span class="k">return</span> <span class="n">_list_from_layouttuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;layout&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">lspec</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">element_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elementname</span><span class="p">,</span> <span class="n">etype</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new element in the current theme of given etype.&quot;&quot;&quot;</span>
        <span class="n">spec</span><span class="p">,</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">_format_elemcreate</span><span class="p">(</span><span class="n">etype</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="n">elementname</span><span class="p">,</span> <span class="n">etype</span><span class="p">,</span>
            <span class="n">spec</span><span class="p">,</span> <span class="o">*</span><span class="n">opts</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">element_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the list of elements defined in the current theme.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">)))</span>


    <span class="k">def</span> <span class="nf">element_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elementname</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the list of elementname&#39;s options.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="s2">&quot;options&quot;</span><span class="p">,</span> <span class="n">elementname</span><span class="p">)))</span>


    <span class="k">def</span> <span class="nf">theme_create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">themename</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates a new theme.</span>

<span class="sd">        It is an error if themename already exists. If parent is</span>
<span class="sd">        specified, the new theme will inherit styles, elements and</span>
<span class="sd">        layouts from the specified parent theme. If settings are present,</span>
<span class="sd">        they are expected to have the same syntax used for theme_settings.&quot;&quot;&quot;</span>
        <span class="n">script</span> <span class="o">=</span> <span class="n">_script_from_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span> <span class="k">if</span> <span class="n">settings</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>

        <span class="k">if</span> <span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="n">themename</span><span class="p">,</span>
                <span class="s2">&quot;-parent&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;-settings&quot;</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="n">themename</span><span class="p">,</span>
                <span class="s2">&quot;-settings&quot;</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">theme_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">themename</span><span class="p">,</span> <span class="n">settings</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Temporarily sets the current theme to themename, apply specified</span>
<span class="sd">        settings and then restore the previous theme.</span>

<span class="sd">        Each key in settings is a style and each value may contain the</span>
<span class="sd">        keys &#39;configure&#39;, &#39;map&#39;, &#39;layout&#39; and &#39;element create&#39; and they</span>
<span class="sd">        are expected to have the same format as specified by the methods</span>
<span class="sd">        configure, map, layout and element_create respectively.&quot;&quot;&quot;</span>
        <span class="n">script</span> <span class="o">=</span> <span class="n">_script_from_settings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">,</span> <span class="n">themename</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">theme_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a list of all known themes.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">,</span> <span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;names&quot;</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">theme_use</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">themename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If themename is None, returns the theme in use, otherwise, set</span>
<span class="sd">        the current theme to themename, refreshes all widgets and emits</span>
<span class="sd">        a &lt;&lt;ThemeChanged&gt;&gt; event.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">themename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Starting on Tk 8.6, checking this global is no longer needed</span>
            <span class="c1"># since it allows doing self.tk.call(self._name, &quot;theme&quot;, &quot;use&quot;)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;return $ttk::currentTheme&quot;</span><span class="p">)</span>

        <span class="c1"># using &quot;ttk::setTheme&quot; instead of &quot;ttk::style theme use&quot; causes</span>
        <span class="c1"># the variable currentTheme to be updated, also, ttk::setTheme calls</span>
        <span class="c1"># &quot;ttk::style theme use&quot; in order to change theme.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;ttk::setTheme&quot;</span><span class="p">,</span> <span class="n">themename</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Widget</span><span class="p">(</span><span class="n">tkinter</span><span class="o">.</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for Tk themed widgets.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">widgetname</span><span class="p">,</span> <span class="n">kw</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructs a Ttk Widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, takefocus, style</span>

<span class="sd">        SCROLLABLE WIDGET OPTIONS</span>

<span class="sd">            xscrollcommand, yscrollcommand</span>

<span class="sd">        LABEL WIDGET OPTIONS</span>

<span class="sd">            text, textvariable, underline, image, compound, width</span>

<span class="sd">        WIDGET STATES</span>

<span class="sd">            active, disabled, focus, pressed, selected, background,</span>
<span class="sd">            readonly, alternate, invalid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">master</span> <span class="o">=</span> <span class="n">setup_master</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">master</span><span class="p">,</span> <span class="s1">&#39;_tile_loaded&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
            <span class="c1"># Load tile now, if needed</span>
            <span class="n">_load_tile</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="n">tkinter</span><span class="o">.</span><span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">widgetname</span><span class="p">,</span> <span class="n">kw</span><span class="o">=</span><span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the element at position x, y, or the empty</span>
<span class="sd">        string if the point does not lie within any element.</span>

<span class="sd">        x and y are pixel coordinates relative to the widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">instate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statespec</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test the widget&#39;s state.</span>

<span class="sd">        If callback is not specified, returns True if the widget state</span>
<span class="sd">        matches statespec and False otherwise. If callback is specified,</span>
<span class="sd">        then it will be invoked with *args, **kw if the widget state</span>
<span class="sd">        matches statespec. statespec is expected to be a sequence.&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;instate&quot;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">statespec</span><span class="p">)))</span>
        <span class="k">if</span> <span class="n">ret</span> <span class="ow">and</span> <span class="n">callback</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">callback</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ret</span>


    <span class="k">def</span> <span class="nf">state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statespec</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Modify or inquire widget state.</span>

<span class="sd">        Widget state is returned if statespec is None, otherwise it is</span>
<span class="sd">        set according to the statespec flags and then a new state spec</span>
<span class="sd">        is returned indicating which flags were changed. statespec is</span>
<span class="sd">        expected to be a sequence.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">statespec</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">statespec</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">statespec</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="n">statespec</span><span class="p">)))</span>


<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Button widget, displays a textual label and/or image, and</span>
<span class="sd">    evaluates a command when pressed.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Button widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, compound, cursor, image, state, style, takefocus,</span>
<span class="sd">            text, textvariable, underline, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, default, width</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::button&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Invokes the command associated with the button.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;invoke&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Checkbutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Checkbutton widget which is either in on- or off-state.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Checkbutton widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, compound, cursor, image, state, style, takefocus,</span>
<span class="sd">            text, textvariable, underline, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, offvalue, onvalue, variable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::checkbutton&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Toggles between the selected and deselected states and</span>
<span class="sd">        invokes the associated command. If the widget is currently</span>
<span class="sd">        selected, sets the option variable to the offvalue option</span>
<span class="sd">        and deselects the widget; otherwise, sets the option variable</span>
<span class="sd">        to the option onvalue.</span>

<span class="sd">        Returns the result of the associated command.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;invoke&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Entry</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Entry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Entry widget displays a one-line text string and allows that</span>
<span class="sd">    string to be edited by the user.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructs a Ttk Entry widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus, xscrollcommand</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            exportselection, invalidcommand, justify, show, state,</span>
<span class="sd">            textvariable, validate, validatecommand, width</span>

<span class="sd">        VALIDATION MODES</span>

<span class="sd">            none, key, focus, focusin, focusout, all</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">widget</span> <span class="ow">or</span> <span class="s2">&quot;ttk::entry&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a tuple of (x, y, width, height) which describes the</span>
<span class="sd">        bounding box of the character given by index.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;bbox&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the element at position x, y, or the</span>
<span class="sd">        empty string if the coordinates are outside the window.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Force revalidation, independent of the conditions specified</span>
<span class="sd">        by the validate option. Returns False if validation fails, True</span>
<span class="sd">        if it succeeds. Sets or clears the invalid state accordingly.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;validate&quot;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">Combobox</span><span class="p">(</span><span class="n">Entry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Combobox widget combines a text field with a pop-down list of</span>
<span class="sd">    values.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Combobox widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            exportselection, justify, height, postcommand, state,</span>
<span class="sd">            textvariable, values, width</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Entry</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::combobox&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newindex</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If newindex is supplied, sets the combobox value to the</span>
<span class="sd">        element at position newindex in the list of values. Otherwise,</span>
<span class="sd">        returns the index of the current value in the list of values</span>
<span class="sd">        or -1 if the current value does not appear in the list.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">newindex</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;current&quot;</span><span class="p">,</span> <span class="n">newindex</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the value of the combobox to value.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Frame</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Frame widget is a container, used to group other widgets</span>
<span class="sd">    together.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Frame with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            borderwidth, relief, padding, width, height</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::frame&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Label</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Label widget displays a textual label and/or image.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Label with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, compound, cursor, image, style, takefocus, text,</span>
<span class="sd">            textvariable, underline, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            anchor, background, font, foreground, justify, padding,</span>
<span class="sd">            relief, text, wraplength</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::label&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Labelframe</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Labelframe widget is a container used to group other widgets</span>
<span class="sd">    together. It has an optional label, which may be a plain text string</span>
<span class="sd">    or another widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Labelframe with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>
<span class="sd">            labelanchor, text, underline, padding, labelwidget, width,</span>
<span class="sd">            height</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::labelframe&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>

<span class="n">LabelFrame</span> <span class="o">=</span> <span class="n">Labelframe</span> <span class="c1"># tkinter name compatibility</span>


<span class="k">class</span> <span class="nc">Menubutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Menubutton widget displays a textual label and/or image, and</span>
<span class="sd">    displays a menu when pressed.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Menubutton with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, compound, cursor, image, state, style, takefocus,</span>
<span class="sd">            text, textvariable, underline, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            direction, menu</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::menubutton&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Notebook</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Notebook widget manages a collection of windows and displays</span>
<span class="sd">    a single one at a time. Each child window is associated with a tab,</span>
<span class="sd">    which the user may select to change the currently-displayed window.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Notebook with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            height, padding, width</span>

<span class="sd">        TAB OPTIONS</span>

<span class="sd">            state, sticky, padding, text, image, compound, underline</span>

<span class="sd">        TAB IDENTIFIERS (tab_id)</span>

<span class="sd">            The tab_id argument found in several methods may take any of</span>
<span class="sd">            the following forms:</span>

<span class="sd">                * An integer between zero and the number of tabs</span>
<span class="sd">                * The name of a child window</span>
<span class="sd">                * A positional specification of the form &quot;@x,y&quot;, which</span>
<span class="sd">                  defines the tab</span>
<span class="sd">                * The string &quot;current&quot;, which identifies the</span>
<span class="sd">                  currently-selected tab</span>
<span class="sd">                * The string &quot;end&quot;, which returns the number of tabs (only</span>
<span class="sd">                  valid for method index)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::notebook&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds a new tab to the notebook.</span>

<span class="sd">        If window is currently managed by the notebook but hidden, it is</span>
<span class="sd">        restored to its previous position.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">_format_optdict</span><span class="p">(</span><span class="n">kw</span><span class="p">)))</span>


    <span class="k">def</span> <span class="nf">forget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Removes the tab specified by tab_id, unmaps and unmanages the</span>
<span class="sd">        associated window.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;forget&quot;</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Hides the tab specified by tab_id.</span>

<span class="sd">        The tab will not be displayed, but the associated window remains</span>
<span class="sd">        managed by the notebook and its configuration remembered. Hidden</span>
<span class="sd">        tabs may be restored with the add command.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;hide&quot;</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the name of the tab element at position x, y, or the</span>
<span class="sd">        empty string if none.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the numeric index of the tab specified by tab_id, or</span>
<span class="sd">        the total number of tabs if tab_id is the string &quot;end&quot;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inserts a pane at the specified position.</span>

<span class="sd">        pos is either the string end, an integer index, or the name of</span>
<span class="sd">        a managed child. If child is already managed by the notebook,</span>
<span class="sd">        moves it to the specified position.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;insert&quot;</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">_format_optdict</span><span class="p">(</span><span class="n">kw</span><span class="p">)))</span>


    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Selects the specified tab.</span>

<span class="sd">        The associated child window will be displayed, and the</span>
<span class="sd">        previously-selected window (if different) is unmapped. If tab_id</span>
<span class="sd">        is omitted, returns the widget name of the currently selected</span>
<span class="sd">        pane.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">tab</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the options of the specific tab_id.</span>

<span class="sd">        If kw is not given, returns a dict of the tab option values. If option</span>
<span class="sd">        is specified, returns the value of that option. Otherwise, sets the</span>
<span class="sd">        options to the corresponding values.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tab&quot;</span><span class="p">,</span> <span class="n">tab_id</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a list of windows managed by the notebook.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tabs&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">())</span>


    <span class="k">def</span> <span class="nf">enable_traversal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Enable keyboard traversal for a toplevel window containing</span>
<span class="sd">        this notebook.</span>

<span class="sd">        This will extend the bindings for the toplevel window containing</span>
<span class="sd">        this notebook as follows:</span>

<span class="sd">            Control-Tab: selects the tab following the currently selected</span>
<span class="sd">                         one</span>

<span class="sd">            Shift-Control-Tab: selects the tab preceding the currently</span>
<span class="sd">                               selected one</span>

<span class="sd">            Alt-K: where K is the mnemonic (underlined) character of any</span>
<span class="sd">                   tab, will select that tab.</span>

<span class="sd">        Multiple notebooks in a single toplevel may be enabled for</span>
<span class="sd">        traversal, including nested notebooks. However, notebook traversal</span>
<span class="sd">        only works properly if all panes are direct children of the</span>
<span class="sd">        notebook.&quot;&quot;&quot;</span>
        <span class="c1"># The only, and good, difference I see is about mnemonics, which works</span>
        <span class="c1"># after calling this method. Control-Tab and Shift-Control-Tab always</span>
        <span class="c1"># works (here at least).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;ttk::notebook::enableTraversal&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Panedwindow</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">PanedWindow</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Panedwindow widget displays a number of subwindows, stacked</span>
<span class="sd">    either vertically or horizontally.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Panedwindow with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            orient, width, height</span>

<span class="sd">        PANE OPTIONS</span>

<span class="sd">            weight</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::panedwindow&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="n">forget</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">PanedWindow</span><span class="o">.</span><span class="n">forget</span> <span class="c1"># overrides Pack.forget</span>


    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inserts a pane at the specified positions.</span>

<span class="sd">        pos is either the string end, and integer index, or the name</span>
<span class="sd">        of a child. If child is already managed by the paned window,</span>
<span class="sd">        moves it to the specified position.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;insert&quot;</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">_format_optdict</span><span class="p">(</span><span class="n">kw</span><span class="p">)))</span>


    <span class="k">def</span> <span class="nf">pane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pane</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the options of the specified pane.</span>

<span class="sd">        pane is either an integer index or the name of a managed subwindow.</span>
<span class="sd">        If kw is not given, returns a dict of the pane option values. If</span>
<span class="sd">        option is specified then the value for that option is returned.</span>
<span class="sd">        Otherwise, sets the options to the corresponding values.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;pane&quot;</span><span class="p">,</span> <span class="n">pane</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">sashpos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">newpos</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If newpos is specified, sets the position of sash number index.</span>

<span class="sd">        May adjust the positions of adjacent sashes to ensure that</span>
<span class="sd">        positions are monotonically increasing. Sash positions are further</span>
<span class="sd">        constrained to be between 0 and the total size of the widget.</span>

<span class="sd">        Returns the new position of sash number index.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;sashpos&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">newpos</span><span class="p">))</span>

<span class="n">PanedWindow</span> <span class="o">=</span> <span class="n">Panedwindow</span> <span class="c1"># tkinter name compatibility</span>


<span class="k">class</span> <span class="nc">Progressbar</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Progressbar widget shows the status of a long-running</span>
<span class="sd">    operation. They can operate in two modes: determinate mode shows the</span>
<span class="sd">    amount completed relative to the total amount of work to be done, and</span>
<span class="sd">    indeterminate mode provides an animated display to let the user know</span>
<span class="sd">    that something is happening.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Progressbar with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            orient, length, mode, maximum, value, variable, phase</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::progressbar&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Begin autoincrement mode: schedules a recurring timer event</span>
<span class="sd">        that calls method step every interval milliseconds.</span>

<span class="sd">        interval defaults to 50 milliseconds (20 steps/second) if omitted.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="n">interval</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Increments the value option by amount.</span>

<span class="sd">        amount defaults to 1.0 if omitted.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;step&quot;</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Stop autoincrement mode: cancels any recurring timer event</span>
<span class="sd">        initiated by start.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;stop&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Radiobutton</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Radiobutton widgets are used in groups to show or change a</span>
<span class="sd">    set of mutually-exclusive options.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Radiobutton with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, compound, cursor, image, state, style, takefocus,</span>
<span class="sd">            text, textvariable, underline, width</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, value, variable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::radiobutton&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">invoke</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the option variable to the option value, selects the</span>
<span class="sd">        widget, and invokes the associated command.</span>

<span class="sd">        Returns the result of the command, or an empty string if</span>
<span class="sd">        no command is specified.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;invoke&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Scale</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Scale</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Scale widget is typically used to control the numeric value of</span>
<span class="sd">    a linked variable that varies uniformly over some range.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Scale with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, from, length, orient, to, value, variable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::scale&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Modify or query scale options.</span>

<span class="sd">        Setting a value for any of the &quot;from&quot;, &quot;from_&quot; or &quot;to&quot; options</span>
<span class="sd">        generates a &lt;&lt;RangeChanged&gt;&gt; event.&quot;&quot;&quot;</span>
        <span class="n">retval</span> <span class="o">=</span> <span class="n">Widget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cnf</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cnf</span><span class="p">,</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">),</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="n">kw</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">cnf</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="s1">&#39;from&#39;</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">,</span> <span class="s1">&#39;from_&#39;</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span> <span class="ow">in</span> <span class="n">kw</span><span class="p">]):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">event_generate</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;RangeChanged&gt;&gt;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">retval</span>


    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the current value of the value option, or the value</span>
<span class="sd">        corresponding to the coordinates x, y if they are specified.</span>

<span class="sd">        x and y are pixel coordinates relative to the scale widget</span>
<span class="sd">        origin.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Scrollbar</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Scrollbar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Scrollbar controls the viewport of a scrollable widget.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Scrollbar with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            command, orient</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::scrollbar&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Separator</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Separator widget displays a horizontal or vertical separator</span>
<span class="sd">    bar.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Separator with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            orient</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::separator&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Sizegrip</span><span class="p">(</span><span class="n">Widget</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Sizegrip allows the user to resize the containing toplevel</span>
<span class="sd">    window by pressing and dragging the grip.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Sizegrip with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, state, style, takefocus</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::sizegrip&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Spinbox</span><span class="p">(</span><span class="n">Entry</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Spinbox is an Entry with increment and decrement arrows</span>

<span class="sd">    It is commonly used for number entry or to select from a list of</span>
<span class="sd">    string values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Spinbox widget with the parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus, validate,</span>
<span class="sd">            validatecommand, xscrollcommand, invalidcommand</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            to, from_, increment, values, wrap, format, command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Entry</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::spinbox&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the value of the Spinbox to value.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Treeview</span><span class="p">(</span><span class="n">Widget</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">XView</span><span class="p">,</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">YView</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ttk Treeview widget displays a hierarchical collection of items.</span>

<span class="sd">    Each item has a textual label, an optional image, and an optional list</span>
<span class="sd">    of data values. The data values are displayed in successive columns</span>
<span class="sd">    after the tree label.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a Ttk Treeview with parent master.</span>

<span class="sd">        STANDARD OPTIONS</span>

<span class="sd">            class, cursor, style, takefocus, xscrollcommand,</span>
<span class="sd">            yscrollcommand</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            columns, displaycolumns, height, padding, selectmode, show</span>

<span class="sd">        ITEM OPTIONS</span>

<span class="sd">            text, image, values, open, tags</span>

<span class="sd">        TAG OPTIONS</span>

<span class="sd">            foreground, background, font, image</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Widget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="s2">&quot;ttk::treeview&quot;</span><span class="p">,</span> <span class="n">kw</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the bounding box (relative to the treeview widget&#39;s</span>
<span class="sd">        window) of the specified item in the form x y width height.</span>

<span class="sd">        If column is specified, returns the bounding box of that cell.</span>
<span class="sd">        If the item is not visible (i.e., if it is a descendant of a</span>
<span class="sd">        closed item or is scrolled offscreen), returns an empty string.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getints</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;bbox&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">column</span><span class="p">))</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span>


    <span class="k">def</span> <span class="nf">get_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a tuple of children belonging to item.</span>

<span class="sd">        If item is not specified, returns root children.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">item</span> <span class="ow">or</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">())</span>


    <span class="k">def</span> <span class="nf">set_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="o">*</span><span class="n">newchildren</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Replaces item&#39;s child with newchildren.</span>

<span class="sd">        Children present in item that are not present in newchildren</span>
<span class="sd">        are detached from tree. No items in newchildren may be an</span>
<span class="sd">        ancestor of item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">newchildren</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the options for the specified column.</span>

<span class="sd">        If kw is not given, returns a dict of the column option values. If</span>
<span class="sd">        option is specified then the value for that option is returned.</span>
<span class="sd">        Otherwise, sets the options to the corresponding values.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;column&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Delete all specified items and all their descendants. The root</span>
<span class="sd">        item may not be deleted.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;delete&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">detach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Unlinks all of the specified items from the tree.</span>

<span class="sd">        The items and all of their descendants are still present, and may</span>
<span class="sd">        be reinserted at another point in the tree, but will not be</span>
<span class="sd">        displayed. The root item may not be detached.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;detach&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns True if the specified item is present in the tree,</span>
<span class="sd">        False otherwise.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;exists&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">focus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If item is specified, sets the focus item to item. Otherwise,</span>
<span class="sd">        returns the current focus item, or &#39;&#39; if there is none.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;focus&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">heading</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the heading options for the specified column.</span>

<span class="sd">        If kw is not given, returns a dict of the heading option values. If</span>
<span class="sd">        option is specified then the value for that option is returned.</span>
<span class="sd">        Otherwise, sets the options to the corresponding values.</span>

<span class="sd">        Valid options/values are:</span>
<span class="sd">            text: text</span>
<span class="sd">                The text to display in the column heading</span>
<span class="sd">            image: image_name</span>
<span class="sd">                Specifies an image to display to the right of the column</span>
<span class="sd">                heading</span>
<span class="sd">            anchor: anchor</span>
<span class="sd">                Specifies how the heading text should be aligned. One of</span>
<span class="sd">                the standard Tk anchor values</span>
<span class="sd">            command: callback</span>
<span class="sd">                A callback to be invoked when the heading label is</span>
<span class="sd">                pressed.</span>

<span class="sd">        To configure the tree column heading, call this with column = &quot;#0&quot; &quot;&quot;&quot;</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;command&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cmd</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="c1"># callback not registered yet, do it now</span>
            <span class="n">kw</span><span class="p">[</span><span class="s1">&#39;command&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_substitute</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s1">&#39;heading&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a description of the specified component under the</span>
<span class="sd">        point given by x and y, or the empty string if no such component</span>
<span class="sd">        is present at that position.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;identify&quot;</span><span class="p">,</span> <span class="n">component</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the item ID of the item at position y.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="s2">&quot;row&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the data column identifier of the cell at position x.</span>

<span class="sd">        The tree column has ID #0.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="s2">&quot;column&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify_region</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns one of:</span>

<span class="sd">        heading: Tree heading area.</span>
<span class="sd">        separator: Space between two columns headings;</span>
<span class="sd">        tree: The tree area.</span>
<span class="sd">        cell: A data cell.</span>

<span class="sd">        * Availability: Tk 8.6&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="s2">&quot;region&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">identify_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the element at position x, y.</span>

<span class="sd">        * Availability: Tk 8.6&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">identify</span><span class="p">(</span><span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the integer index of item within its parent&#39;s list</span>
<span class="sd">        of children.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">iid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Creates a new item and return the item identifier of the newly</span>
<span class="sd">        created item.</span>

<span class="sd">        parent is the item ID of the parent item, or the empty string</span>
<span class="sd">        to create a new top-level item. index is an integer, or the value</span>
<span class="sd">        end, specifying where in the list of parent&#39;s children to insert</span>
<span class="sd">        the new item. If index is less than or equal to zero, the new node</span>
<span class="sd">        is inserted at the beginning, if index is greater than or equal to</span>
<span class="sd">        the current number of children, it is inserted at the end. If iid</span>
<span class="sd">        is specified, it is used as the item identifier, iid must not</span>
<span class="sd">        already exist in the tree. Otherwise, a new unique identifier</span>
<span class="sd">        is generated.&quot;&quot;&quot;</span>
        <span class="n">opts</span> <span class="o">=</span> <span class="n">_format_optdict</span><span class="p">(</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">iid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;insert&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span>
                <span class="s2">&quot;-id&quot;</span><span class="p">,</span> <span class="n">iid</span><span class="p">,</span> <span class="o">*</span><span class="n">opts</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;insert&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="o">*</span><span class="n">opts</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">res</span>


    <span class="k">def</span> <span class="nf">item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the options for the specified item.</span>

<span class="sd">        If no options are given, a dict with options/values for the item</span>
<span class="sd">        is returned. If option is specified then the value for that option</span>
<span class="sd">        is returned. Otherwise, sets the options to the corresponding</span>
<span class="sd">        values as given by kw.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Moves item to position index in parent&#39;s list of children.</span>

<span class="sd">        It is illegal to move an item under one of its descendants. If</span>
<span class="sd">        index is less than or equal to zero, item is moved to the</span>
<span class="sd">        beginning, if greater than or equal to the number of children,</span>
<span class="sd">        it is moved to the end. If item was detached it is reattached.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

    <span class="n">reattach</span> <span class="o">=</span> <span class="n">move</span> <span class="c1"># A sensible method name for reattaching detached items</span>


    <span class="k">def</span> <span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the identifier of item&#39;s next sibling, or &#39;&#39; if item</span>
<span class="sd">        is the last child of its parent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;next&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the ID of the parent of item, or &#39;&#39; if item is at the</span>
<span class="sd">        top level of the hierarchy.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">prev</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the identifier of item&#39;s previous sibling, or &#39;&#39; if</span>
<span class="sd">        item is the first child of its parent.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;prev&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">see</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ensure that item is visible.</span>

<span class="sd">        Sets all of item&#39;s ancestors open option to True, and scrolls</span>
<span class="sd">        the widget if necessary so that item is within the visible</span>
<span class="sd">        portion of the tree.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;see&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the tuple of selected items.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selop</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;selection&quot;</span><span class="p">,</span> <span class="n">selop</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">selection_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The specified items becomes the new selection.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_selection</span><span class="p">(</span><span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">selection_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add all of the specified items to the selection.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_selection</span><span class="p">(</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">selection_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove all of the specified items from the selection.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_selection</span><span class="p">(</span><span class="s2">&quot;remove&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">selection_toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Toggle the selection state of each specified item.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_selection</span><span class="p">(</span><span class="s2">&quot;toggle&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or set the value of given item.</span>

<span class="sd">        With one argument, return a dictionary of column/value pairs</span>
<span class="sd">        for the specified item. With two arguments, return the current</span>
<span class="sd">        value of the specified column. With three arguments, set the</span>
<span class="sd">        value of given column in given item to the specified value.&quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">column</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_splitdict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span>
                              <span class="n">cut_minus</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">conv</span><span class="o">=</span><span class="n">_tclobj_to_py</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>


    <span class="k">def</span> <span class="nf">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">sequence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bind a callback for the given event sequence to the tag tagname.</span>
<span class="sd">        When an event is delivered to an item, the callbacks for each</span>
<span class="sd">        of the item&#39;s tags option are called.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bind</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;bind&quot;</span><span class="p">,</span> <span class="n">tagname</span><span class="p">),</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">tag_configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Query or modify the options for the specified tagname.</span>

<span class="sd">        If kw is not given, returns a dict of the option settings for tagname.</span>
<span class="sd">        If option is specified, returns the value for that option for the</span>
<span class="sd">        specified tagname. Otherwise, sets the options to the corresponding</span>
<span class="sd">        values for the given tagname.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">option</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kw</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">_val_or_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="p">,</span> <span class="n">kw</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;configure&quot;</span><span class="p">,</span>
            <span class="n">tagname</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">tag_has</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If item is specified, returns 1 or 0 depending on whether the</span>
<span class="sd">        specified item has the given tagname. Otherwise, returns a list of</span>
<span class="sd">        all items which have the specified tag.</span>

<span class="sd">        * Availability: Tk 8.6&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;has&quot;</span><span class="p">,</span> <span class="n">tagname</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_w</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span> <span class="s2">&quot;has&quot;</span><span class="p">,</span> <span class="n">tagname</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>


<span class="c1"># Extensions</span>

<span class="k">class</span> <span class="nc">LabeledScale</span><span class="p">(</span><span class="n">Frame</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Ttk Scale widget with a Ttk Label widget indicating its</span>
<span class="sd">    current value.</span>

<span class="sd">    The Ttk Scale can be accessed through instance.scale, and Ttk Label</span>
<span class="sd">    can be accessed through instance.label&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a horizontal LabeledScale with parent master, a</span>
<span class="sd">        variable to be associated with the Ttk Scale widget and its range.</span>
<span class="sd">        If variable is not specified, a tkinter.IntVar is created.</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            compound: &#39;top&#39; or &#39;bottom&#39;</span>
<span class="sd">                Specifies how to display the label relative to the scale.</span>
<span class="sd">                Defaults to &#39;top&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_label_top</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;compound&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span>

        <span class="n">Frame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">variable</span> <span class="ow">or</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">from_</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_valid</span> <span class="o">=</span> <span class="n">from_</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="n">from_</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">to</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;RangeChanged&gt;&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adjust</span><span class="p">)</span>

        <span class="c1"># position scale and label according to the compound option</span>
        <span class="n">scale_side</span> <span class="o">=</span> <span class="s1">&#39;bottom&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label_top</span> <span class="k">else</span> <span class="s1">&#39;top&#39;</span>
        <span class="n">label_side</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span> <span class="k">if</span> <span class="n">scale_side</span> <span class="o">==</span> <span class="s1">&#39;bottom&#39;</span> <span class="k">else</span> <span class="s1">&#39;bottom&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">scale_side</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">label_side</span><span class="p">)</span> <span class="c1"># place holder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;n&#39;</span> <span class="k">if</span> <span class="n">label_side</span> <span class="o">==</span> <span class="s1">&#39;top&#39;</span> <span class="k">else</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>

        <span class="c1"># update the label as scale or variable changes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__tracecb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">trace_variable</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adjust</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Configure&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adjust</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Map&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adjust</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy this widget and possibly its associated variable.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">trace_vdelete</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tracecb</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="kc">None</span>


    <span class="k">def</span> <span class="nf">_adjust</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adjust the label position according to the scale.&quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">adjust_label</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span> <span class="c1"># &quot;force&quot; scale redraw</span>

            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">coords</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label_top</span><span class="p">:</span>
                <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">winfo_y</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">place_configure</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>

        <span class="n">from_</span> <span class="o">=</span> <span class="n">_to_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">[</span><span class="s1">&#39;from&#39;</span><span class="p">])</span>
        <span class="n">to</span> <span class="o">=</span> <span class="n">_to_number</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">[</span><span class="s1">&#39;to&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">to</span> <span class="o">&lt;</span> <span class="n">from_</span><span class="p">:</span>
            <span class="n">from_</span><span class="p">,</span> <span class="n">to</span> <span class="o">=</span> <span class="n">to</span><span class="p">,</span> <span class="n">from_</span>
        <span class="n">newval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">from_</span> <span class="o">&lt;=</span> <span class="n">newval</span> <span class="o">&lt;=</span> <span class="n">to</span><span class="p">:</span>
            <span class="c1"># value outside range, set value back to the last valid one</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_last_valid</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_last_valid</span> <span class="o">=</span> <span class="n">newval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">newval</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">after_idle</span><span class="p">(</span><span class="n">adjust_label</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return current scale value.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

    <span class="nd">@value</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set new scale value.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">OptionMenu</span><span class="p">(</span><span class="n">Menubutton</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Themed OptionMenu, based after tkinter&#39;s OptionMenu, which allows</span>
<span class="sd">    the user to select a value from a menu.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Construct a themed OptionMenu widget with master as the parent,</span>
<span class="sd">        the resource textvariable set to variable, the initially selected</span>
<span class="sd">        value specified by the default parameter, the menu values given by</span>
<span class="sd">        *values and additional keywords.</span>

<span class="sd">        WIDGET-SPECIFIC OPTIONS</span>

<span class="sd">            style: stylename</span>
<span class="sd">                Menubutton style.</span>
<span class="sd">            direction: &#39;above&#39;, &#39;below&#39;, &#39;left&#39;, &#39;right&#39;, or &#39;flush&#39;</span>
<span class="sd">                Menubutton direction.</span>
<span class="sd">            command: callback</span>
<span class="sd">                A callback that will be invoked after selecting an item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;textvariable&#39;</span><span class="p">:</span> <span class="n">variable</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
              <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;direction&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
        <span class="n">Menubutton</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;menu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tearoff</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span> <span class="o">=</span> <span class="n">variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">TclError</span><span class="p">(</span><span class="s1">&#39;unknown option -</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()))))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_menu</span><span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">)</span>


    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="s1">&#39;menu&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nametowidget</span><span class="p">(</span><span class="n">Menubutton</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">Menubutton</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">set_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Build a new menu of radiobuttons with *values and optionally</span>
<span class="sd">        a default value.&quot;&quot;&quot;</span>
        <span class="n">menu</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;menu&#39;</span><span class="p">]</span>
        <span class="n">menu</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
            <span class="n">menu</span><span class="o">.</span><span class="n">add_radiobutton</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">val</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">tkinter</span><span class="o">.</span><span class="n">_setit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_callback</span><span class="p">),</span>
                <span class="n">variable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">default</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Destroy this widget and its associated variable.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_variable</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020-2021, Matthias Cuntz

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>